{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\A1510207\\\\OneDrive - BI Norwegian Business School (BIEDU)\\\\Documents\\\\Dev prosjekter\\\\SWAAKON-React\\\\src\\\\components\\\\CourseComparison.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { fetchStoredEmbeddings } from '../services/supabase';\nimport { generateEmbedding, generateOverlapExplanation } from '../services/openai';\nimport { findSimilarCourses } from '../services/similarity';\nimport { Box, Button, CircularProgress, Container, TextField, Typography, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Link, Tooltip, IconButton, TablePagination, Alert, InputAdornment, Collapse, Grid, Card, Dialog, DialogTitle, DialogContent, DialogActions, Switch, FormControl, InputLabel, Select, MenuItem, Slider, Chip } from '@mui/material';\nimport styled from '@emotion/styled';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\nimport InfoIcon from '@mui/icons-material/Info';\nimport FilterListIcon from '@mui/icons-material/FilterList';\nimport SearchIcon from '@mui/icons-material/Search';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport DragIndicatorIcon from '@mui/icons-material/DragIndicator';\nimport ArrowUpwardIcon from '@mui/icons-material/ArrowUpward';\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\nimport { alpha } from '@mui/material/styles';\nimport Papa from 'papaparse';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport FilterAltIcon from '@mui/icons-material/FilterAlt';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MIN_INPUT_LENGTH = 10;\nconst MAX_INPUT_LENGTH = 5000;\nconst COLUMN_SETTINGS_KEY = 'courseComparisonColumns';\nconst validateInput = text => {\n  if (!text || typeof text !== 'string') return false;\n  const cleaned = text.trim();\n  return cleaned.length >= MIN_INPUT_LENGTH && cleaned.length <= MAX_INPUT_LENGTH;\n};\n\n// Styled components\nconst StyledCard = styled(Paper)(({\n  theme\n}) => ({\n  borderRadius: '16px',\n  padding: theme.spacing(3),\n  background: theme.palette.mode === 'dark' ? 'linear-gradient(145deg, #1e1e1e, #2d2d2d)' : 'linear-gradient(145deg, #ffffff, #f5f5f5)',\n  boxShadow: theme.palette.mode === 'dark' ? '0 8px 32px rgba(0, 0, 0, 0.3)' : '0 8px 32px rgba(0, 0, 0, 0.08)',\n  transition: 'transform 0.2s ease',\n  '&:hover': {\n    transform: 'translateY(-2px)'\n  }\n}));\n_c = StyledCard;\nconst AnimatedButton = styled(Button)(({\n  theme\n}) => ({\n  borderRadius: '12px',\n  padding: '12px 24px',\n  transition: 'all 0.2s ease',\n  fontWeight: 600,\n  textTransform: 'none',\n  '&:hover': {\n    transform: 'translateY(-2px)',\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)'\n  }\n}));\n_c2 = AnimatedButton;\nconst StyledTableCell = styled(TableCell)(({\n  theme\n}) => ({\n  '&.MuiTableCell-head': {\n    backgroundColor: 'transparent',\n    color: theme.palette.text.primary,\n    fontWeight: 600,\n    fontSize: '0.95rem',\n    borderBottom: `2px solid ${alpha(theme.palette.primary.main, 0.1)}`\n  },\n  '&.MuiTableCell-body': {\n    fontSize: '0.9rem',\n    borderBottom: `1px solid ${alpha(theme.palette.divider, 0.5)}`\n  }\n}));\n_c3 = StyledTableCell;\nconst StyledTableRow = styled(TableRow)(({\n  theme\n}) => ({\n  transition: 'all 0.2s ease',\n  '&:hover': {\n    backgroundColor: alpha(theme.palette.primary.main, 0.05),\n    '& .row-explanation': {\n      opacity: 1,\n      height: 'auto',\n      padding: theme.spacing(2)\n    }\n  }\n}));\n_c4 = StyledTableRow;\nconst ExplanationButton = styled(Button)(({\n  theme\n}) => ({\n  minWidth: 'auto',\n  padding: '6px 12px',\n  transition: 'all 0.2s ease',\n  backgroundColor: alpha(theme.palette.primary.main, theme.palette.mode === 'dark' ? 0.2 : 0.1),\n  color: theme.palette.primary.main,\n  '&:hover': {\n    backgroundColor: alpha(theme.palette.primary.main, theme.palette.mode === 'dark' ? 0.3 : 0.2),\n    transform: 'scale(1.02)'\n  },\n  '&.Mui-disabled': {\n    backgroundColor: alpha(theme.palette.action.disabled, theme.palette.mode === 'dark' ? 0.2 : 0.1)\n  }\n}));\nconst RowExplanation = styled(Box)(({\n  theme\n}) => ({\n  opacity: 0,\n  height: 0,\n  overflow: 'hidden',\n  transition: 'all 0.3s ease',\n  backgroundColor: alpha(theme.palette.primary.main, theme.palette.mode === 'dark' ? 0.15 : 0.05),\n  borderRadius: theme.spacing(1),\n  margin: theme.spacing(1, 3),\n  padding: 0,\n  '&.visible': {\n    opacity: 1,\n    height: 'auto',\n    padding: theme.spacing(2)\n  }\n}));\n_c5 = RowExplanation;\nconst SimilarityBadge = styled(Box)(({\n  theme,\n  similarity\n}) => ({\n  display: 'inline-flex',\n  alignItems: 'center',\n  padding: '6px 12px',\n  borderRadius: '20px',\n  fontWeight: 600,\n  fontSize: '0.85rem',\n  backgroundColor: similarity >= 70 ? alpha(theme.palette.success.main, theme.palette.mode === 'dark' ? 0.2 : 0.1) : similarity >= 50 ? alpha(theme.palette.warning.main, theme.palette.mode === 'dark' ? 0.2 : 0.1) : alpha(theme.palette.error.main, theme.palette.mode === 'dark' ? 0.2 : 0.1),\n  color: theme.palette.mode === 'dark' ? similarity >= 70 ? theme.palette.success.light : similarity >= 50 ? theme.palette.warning.light : theme.palette.error.light : similarity >= 70 ? theme.palette.success.dark : similarity >= 50 ? theme.palette.warning.dark : theme.palette.error.dark\n}));\n_c6 = SimilarityBadge;\nconst FilterChip = styled(Box)(({\n  theme,\n  active\n}) => ({\n  display: 'inline-flex',\n  alignItems: 'center',\n  padding: '6px 16px',\n  borderRadius: '20px',\n  fontSize: '0.9rem',\n  cursor: 'pointer',\n  backgroundColor: active ? theme.palette.primary.main : theme.palette.mode === 'dark' ? alpha(theme.palette.primary.main, 0.1) : 'transparent',\n  color: active ? theme.palette.mode === 'dark' ? theme.palette.common.black : theme.palette.common.white : theme.palette.text.primary,\n  border: `1px solid ${active ? theme.palette.primary.main : theme.palette.divider}`,\n  transition: 'all 0.2s ease',\n  '&:hover': {\n    backgroundColor: active ? theme.palette.primary.dark : alpha(theme.palette.primary.main, theme.palette.mode === 'dark' ? 0.2 : 0.05)\n  }\n}));\nconst ErrorDisplay = ({\n  error,\n  onRetry\n}) => /*#__PURE__*/_jsxDEV(Box, {\n  sx: {\n    textAlign: 'center',\n    p: 4\n  },\n  children: [/*#__PURE__*/_jsxDEV(Typography, {\n    color: \"error\",\n    gutterBottom: true,\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(Button, {\n    onClick: onRetry,\n    variant: \"contained\",\n    sx: {\n      mt: 2\n    },\n    children: \"Pr\\xF8v igjen\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 202,\n  columnNumber: 5\n}, this);\n_c7 = ErrorDisplay;\nconst MobileResultCard = ({\n  course\n}) => /*#__PURE__*/_jsxDEV(Card, {\n  sx: {\n    mb: 2,\n    p: 2\n  },\n  children: [/*#__PURE__*/_jsxDEV(Typography, {\n    variant: \"h6\",\n    children: course.kurskode\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    gutterBottom: true,\n    children: course.kursnavn\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 215,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      mt: 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      children: [\"Likhet: \", course.similarity, \"%\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      children: [course.credits, \" stp\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 213,\n  columnNumber: 5\n}, this);\n\n// Hjelpefunksjon for å formatere studiepoeng\n_c8 = MobileResultCard;\nconst formatCredits = credits => {\n  if (!credits) return '';\n  // Konverter fra 75 til 7.5 og 25 til 2.5\n  switch (credits) {\n    case 75:\n      return '7.5';\n    case 25:\n      return '2.5';\n    default:\n      return credits.toString();\n  }\n};\nconst ColumnListItem = styled(Box)(({\n  theme\n}) => ({\n  display: 'flex',\n  alignItems: 'center',\n  padding: theme.spacing(1),\n  marginBottom: theme.spacing(1),\n  backgroundColor: theme.palette.background.paper,\n  borderRadius: theme.shape.borderRadius,\n  border: `1px solid ${theme.palette.divider}`,\n  '&:hover': {\n    backgroundColor: theme.palette.action.hover\n  }\n}));\n_c9 = ColumnListItem;\nconst FilterSection = styled(Box)(({\n  theme\n}) => ({\n  padding: theme.spacing(2),\n  borderRadius: theme.shape.borderRadius,\n  backgroundColor: theme.palette.background.paper,\n  marginBottom: theme.spacing(2),\n  border: `1px solid ${theme.palette.divider}`\n}));\n_c10 = FilterSection;\nconst FilterBar = ({\n  filters,\n  setFilters,\n  availableFilters\n}) => {\n  const handleClearFilters = () => {\n    setFilters({\n      searchTerm: '',\n      similarityRange: [0, 100],\n      studyLevel: 'all',\n      language: 'all',\n      credits: 'all'\n    });\n  };\n  const activeFilterCount = Object.values(filters).filter(value => value !== 'all' && value !== '' && !(Array.isArray(value) && value[0] === 0 && value[1] === 100)).length;\n  return /*#__PURE__*/_jsxDEV(FilterSection, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(FilterAltIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 21\n        }, this), \"Aktive filtre\", activeFilterCount > 0 && /*#__PURE__*/_jsxDEV(Chip, {\n          label: activeFilterCount,\n          size: \"small\",\n          color: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }, this), activeFilterCount > 0 && /*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(ClearIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 36\n        }, this),\n        onClick: handleClearFilters,\n        size: \"small\",\n        children: \"Nullstill filtre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          size: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Studieniv\\xE5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: filters.studyLevel,\n            onChange: e => setFilters({\n              ...filters,\n              studyLevel: e.target.value\n            }),\n            label: \"Studieniv\\xE5\",\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"all\",\n              children: \"Alle niv\\xE5er\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 29\n            }, this), availableFilters.studyLevels.map(level => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: level,\n              children: level\n            }, level, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 33\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          size: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Spr\\xE5k\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: filters.language,\n            onChange: e => setFilters({\n              ...filters,\n              language: e.target.value\n            }),\n            label: \"Spr\\xE5k\",\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"all\",\n              children: \"Alle spr\\xE5k\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 29\n            }, this), availableFilters.languages.map(lang => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: lang,\n              children: lang\n            }, lang, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 33\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          size: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Studiepoeng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: filters.credits,\n            onChange: e => setFilters({\n              ...filters,\n              credits: e.target.value\n            }),\n            label: \"Studiepoeng\",\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"all\",\n              children: \"Alle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 29\n            }, this), availableFilters.creditOptions.map(credit => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: credit,\n              children: [formatCredits(credit), \" stp\"]\n            }, credit, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 33\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          gutterBottom: true,\n          children: [\"Likhet: \", filters.similarityRange[0], \"% - \", filters.similarityRange[1], \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Slider, {\n          value: filters.similarityRange,\n          onChange: (e, newValue) => setFilters({\n            ...filters,\n            similarityRange: newValue\n          }),\n          valueLabelDisplay: \"auto\",\n          min: 0,\n          max: 100\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 277,\n    columnNumber: 9\n  }, this);\n};\n_c11 = FilterBar;\nconst CourseComparison = () => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [results, setResults] = useState(null);\n  const [error, setError] = useState(null);\n  const [loadingExplanations, setLoadingExplanations] = useState({});\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const [showForm, setShowForm] = useState(true);\n  const [formData, setFormData] = useState({\n    courseName: '',\n    courseDescription: '',\n    courseLiterature: ''\n  });\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showFilters, setShowFilters] = useState(false);\n  const [expandedExplanations, setExpandedExplanations] = useState({});\n  const [filters, setFilters] = useState({\n    searchTerm: '',\n    similarityRange: [0, 100],\n    studyLevel: 'all',\n    language: 'all',\n    credits: 'all'\n  });\n  const [availableFilters, setAvailableFilters] = useState({\n    studyLevels: [],\n    languages: [],\n    creditOptions: []\n  });\n  const [showColumnDialog, setShowColumnDialog] = useState(false);\n  const defaultColumns = [{\n    id: 'col-kurskode',\n    label: 'Kurs',\n    enabled: true,\n    required: true,\n    field: 'kurskode'\n  }, {\n    id: 'col-semester',\n    label: 'Semester',\n    enabled: true,\n    field: 'semester'\n  }, {\n    id: 'col-språk',\n    label: 'Språk (Original)',\n    enabled: false,\n    field: 'språk'\n  }, {\n    id: 'col-kursnavn',\n    label: 'Kursnavn',\n    enabled: false,\n    field: 'kursnavn'\n  }, {\n    id: 'col-academic-coordinator',\n    label: 'Academic Coordinator',\n    enabled: false,\n    field: 'academic_coordinator'\n  }, {\n    id: 'col-credits',\n    label: 'Studiepoeng',\n    enabled: true,\n    field: 'credits'\n  }, {\n    id: 'col-portfolio',\n    label: 'Portfolio',\n    enabled: true,\n    field: 'portfolio'\n  }, {\n    id: 'col-institutt',\n    label: 'Institutt',\n    enabled: false,\n    field: 'ansvarlig_institutt'\n  }, {\n    id: 'col-område',\n    label: 'Forretningsområde',\n    enabled: true,\n    field: 'ansvarlig_område'\n  }, {\n    id: 'col-level',\n    label: 'Nivå',\n    enabled: true,\n    field: 'level_of_study'\n  }, {\n    id: 'col-pensum',\n    label: 'Pensum',\n    enabled: false,\n    field: 'pensum'\n  }, {\n    id: 'col-similarity',\n    label: 'Likhet',\n    enabled: true,\n    required: true,\n    field: 'similarity'\n  }, {\n    id: 'col-ai',\n    label: 'AI Analyse',\n    enabled: true,\n    required: true,\n    field: 'ai_analyse'\n  }];\n  const [availableColumns, setAvailableColumns] = useState(() => {\n    const savedColumns = localStorage.getItem(COLUMN_SETTINGS_KEY);\n    if (savedColumns) {\n      return JSON.parse(savedColumns);\n    }\n    return defaultColumns;\n  });\n\n  // Handle page change\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  // Handle rows per page change\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleGenerateExplanation = async (course, courseText) => {\n    console.log('Starting explanation generation for:', {\n      courseCode: course.kurskode,\n      inputData: {\n        name: formData.courseName,\n        content: courseText\n      },\n      similarity: course.similarity\n    });\n    setLoadingExplanations(prev => ({\n      ...prev,\n      [course.kurskode]: true\n    }));\n    try {\n      console.log('Calling generateOverlapExplanation with:', {\n        inputCourse: {\n          name: formData.courseName,\n          content: courseText\n        },\n        storedCourse: course,\n        similarity: course.similarity\n      });\n      const explanation = await generateOverlapExplanation({\n        name: formData.courseName,\n        content: courseText\n      }, course, course.similarity);\n      console.log('Received explanation:', explanation);\n      if (!explanation) {\n        throw new Error('No explanation was generated');\n      }\n      setResults(prevResults => prevResults.map(r => r.kurskode === course.kurskode ? {\n        ...r,\n        explanation\n      } : r));\n    } catch (err) {\n      console.error('Error generating explanation:', err);\n      setError(`Failed to generate explanation for ${course.kurskode}: ${err.message}`);\n    } finally {\n      // Always clear loading state, whether successful or not\n      setLoadingExplanations(prev => ({\n        ...prev,\n        [course.kurskode]: false\n      }));\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    setResults(null);\n    setLoadingExplanations({});\n    try {\n      // Validate inputs\n      if (!validateInput(formData.courseName)) {\n        throw new Error('Course name must be between 10 and 5000 characters');\n      }\n      if (!validateInput(formData.courseDescription)) {\n        throw new Error('Course description must be between 10 and 5000 characters');\n      }\n      if (formData.courseLiterature && !validateInput(formData.courseLiterature)) {\n        throw new Error('Course literature must be between 10 and 5000 characters if provided');\n      }\n\n      // Combine course information for embedding\n      const courseText = `\n                Course Name: ${formData.courseName.trim()}\n                Course Description: ${formData.courseDescription.trim()}\n                ${formData.courseLiterature ? `Course Literature: ${formData.courseLiterature.trim()}` : ''}\n            `.trim();\n      console.log('Starting course analysis with text length:', courseText.length);\n\n      // Generate embeddings for both Norwegian and English versions\n      const embeddings = await generateEmbedding(courseText);\n      console.log('Generated embeddings:', {\n        norwegianLength: embeddings.norwegian.length,\n        englishLength: embeddings.english.length\n      });\n\n      // Fetch stored courses\n      const storedCourses = await fetchStoredEmbeddings();\n      if (!storedCourses || storedCourses.length === 0) {\n        throw new Error('No stored courses found to compare against');\n      }\n      console.log(`Fetched ${storedCourses.length} stored courses`);\n\n      // Find similar courses using the Norwegian embedding since our stored courses are in Norwegian\n      const similarCourses = await findSimilarCourses(embeddings.norwegian, storedCourses);\n      console.log(`Found ${similarCourses.length} similar courses`);\n      if (similarCourses.length === 0) {\n        setResults([]);\n        setError('No similar courses found. Try providing more detailed course information.');\n        return;\n      }\n\n      // Set results without explanations\n      setResults(similarCourses.map(course => ({\n        ...course,\n        explanation: null\n      })));\n\n      // Skjul analyseformen når resultatene er klare\n      setShowForm(false);\n    } catch (err) {\n      console.error('Error in course analysis:', err);\n      setError({\n        message: 'Kunne ikke fullføre analysen',\n        details: err.message,\n        type: err.name\n      });\n      setResults(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getFilteredResults = () => {\n    return results.filter(course => {\n      // Søketekst\n      const searchMatch = !filters.searchTerm || course.kurskode.toLowerCase().includes(filters.searchTerm.toLowerCase()) || course.kursnavn.toLowerCase().includes(filters.searchTerm.toLowerCase());\n\n      // Similarity score range\n      const similarityMatch = course.similarity >= filters.similarityRange[0] && course.similarity <= filters.similarityRange[1];\n\n      // Studienivå\n      const levelMatch = filters.studyLevel === 'all' || course.level_of_study === filters.studyLevel;\n\n      // Språk\n      const languageMatch = filters.language === 'all' || course.språk === filters.language;\n\n      // Studiepoeng\n      const creditsMatch = filters.credits === 'all' || course.credits === filters.credits;\n      return searchMatch && similarityMatch && levelMatch && languageMatch && creditsMatch;\n    });\n  };\n\n  // Add toggle function\n  const toggleForm = () => {\n    setShowForm(!showForm);\n  };\n  const toggleExplanation = course => {\n    if (course.explanation) {\n      // If explanation exists, just toggle visibility\n      setExpandedExplanations(prev => ({\n        ...prev,\n        [course.kurskode]: !prev[course.kurskode]\n      }));\n    } else {\n      // If no explanation exists, generate one\n      handleGenerateExplanation(course, formData.courseDescription);\n      setExpandedExplanations(prev => ({\n        ...prev,\n        [course.kurskode]: true\n      }));\n    }\n  };\n\n  // Hent tilgjengelige filtervalg når komponentet lastes\n  useEffect(() => {\n    const extractFilters = courses => {\n      const levels = new Set();\n      const langs = new Set();\n      const credits = new Set();\n      courses.forEach(course => {\n        if (course.level_of_study) levels.add(course.level_of_study);\n        if (course.språk) langs.add(course.språk);\n        if (course.credits) credits.add(course.credits);\n      });\n      setAvailableFilters({\n        studyLevels: Array.from(levels).sort(),\n        languages: Array.from(langs).sort(),\n        creditOptions: Array.from(credits).sort((a, b) => a - b)\n      });\n    };\n\n    // Kall denne når kursene lastes\n    if (results && results.length > 0) {\n      extractFilters(results);\n    }\n  }, [results]);\n  const exportResults = () => {\n    const csvContent = results.map(course => {\n      var _course$kursansvarlig, _course$level_of_stud, _course$språk;\n      return {\n        'Kurs Kode': course.kurskode,\n        'Kurs Navn': course.kursnavn.replace('No', ''),\n        'Kursansvarlig': (_course$kursansvarlig = course.kursansvarlig) === null || _course$kursansvarlig === void 0 ? void 0 : _course$kursansvarlig.replace('No', ''),\n        'Nivå': (_course$level_of_stud = course.level_of_study) === null || _course$level_of_stud === void 0 ? void 0 : _course$level_of_stud.replace('No', ''),\n        'Studiepoeng': formatCredits(course.credits),\n        'Semester': course.semester,\n        'Språk': (_course$språk = course.språk) === null || _course$språk === void 0 ? void 0 : _course$språk.replace('No', ''),\n        'Vurderingsform': course.portfolio,\n        'Fagområde': course.ansvarlig_område,\n        'Likhet': `${course.similarity}%`\n      };\n    });\n    const csv = Papa.unparse(csvContent);\n    const blob = new Blob([csv], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(blob);\n    link.download = 'kursanalyse_resultater.csv';\n    link.click();\n  };\n  const moveColumn = (index, direction) => {\n    setAvailableColumns(prevColumns => {\n      const newColumns = [...prevColumns];\n      const newIndex = direction === 'up' ? index - 1 : index + 1;\n      if (newIndex >= 0 && newIndex < newColumns.length) {\n        [newColumns[index], newColumns[newIndex]] = [newColumns[newIndex], newColumns[index]];\n        localStorage.setItem(COLUMN_SETTINGS_KEY, JSON.stringify(newColumns));\n      }\n      return newColumns;\n    });\n  };\n  const resetColumnSettings = () => {\n    setAvailableColumns(defaultColumns);\n    localStorage.setItem(COLUMN_SETTINGS_KEY, JSON.stringify(defaultColumns));\n  };\n  useEffect(() => {\n    localStorage.setItem(COLUMN_SETTINGS_KEY, JSON.stringify(availableColumns));\n  }, [availableColumns]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    sx: {\n      py: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        textAlign: 'center',\n        mb: 4,\n        background: theme => theme.palette.mode === 'dark' ? 'linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%)' : 'linear-gradient(135deg, #f6f9fe 0%, #f1f4f9 100%)',\n        borderRadius: '24px',\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(AnimatedButton, {\n        variant: \"contained\",\n        onClick: toggleForm,\n        startIcon: showForm ? /*#__PURE__*/_jsxDEV(KeyboardArrowUpIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 710,\n          columnNumber: 43\n        }, this) : /*#__PURE__*/_jsxDEV(KeyboardArrowDownIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 710,\n          columnNumber: 69\n        }, this),\n        disabled: loading,\n        children: loading ? 'Analyserer...' : showForm ? 'Skjul analyseskjema' : 'Start ny analyse'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 698,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n      in: showForm,\n      children: /*#__PURE__*/_jsxDEV(StyledCard, {\n        sx: {\n          mb: 4\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                name: \"courseName\",\n                label: \"Course Name\",\n                value: formData.courseName,\n                onChange: handleInputChange,\n                required: true,\n                variant: \"filled\",\n                InputProps: {\n                  sx: {\n                    borderRadius: '12px',\n                    backgroundColor: 'rgba(0,0,0,0.02)'\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 723,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                name: \"courseDescription\",\n                label: \"Course Description\",\n                value: formData.courseDescription,\n                onChange: handleInputChange,\n                required: true,\n                multiline: true,\n                rows: 4,\n                variant: \"filled\",\n                InputProps: {\n                  sx: {\n                    borderRadius: '12px',\n                    backgroundColor: 'rgba(0,0,0,0.02)'\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 740,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                name: \"courseLiterature\",\n                label: \"Course Literature (Optional)\",\n                value: formData.courseLiterature,\n                onChange: handleInputChange,\n                multiline: true,\n                rows: 3,\n                variant: \"filled\",\n                InputProps: {\n                  sx: {\n                    borderRadius: '12px',\n                    backgroundColor: 'rgba(0,0,0,0.02)'\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 759,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 758,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(AnimatedButton, {\n                type: \"submit\",\n                variant: \"contained\",\n                size: \"large\",\n                disabled: loading,\n                fullWidth: true,\n                children: [loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                  size: 24,\n                  sx: {\n                    mr: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 785,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(SearchIcon, {\n                  sx: {\n                    mr: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 787,\n                  columnNumber: 41\n                }, this), \"Analyze Course Overlap\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 777,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 776,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 721,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 720,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 719,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 718,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(ErrorDisplay, {\n      error: error.message,\n      onRetry: () => {\n        setError(null);\n        setResults(null);\n        setLoading(true);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 798,\n      columnNumber: 17\n    }, this), results && /*#__PURE__*/_jsxDEV(StyledCard, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            gap: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            size: \"small\",\n            placeholder: \"Search courses...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"start\",\n                children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 818,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 817,\n                columnNumber: 41\n              }, this),\n              sx: {\n                borderRadius: '12px',\n                backgroundColor: 'rgba(0,0,0,0.02)'\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(AnimatedButton, {\n            variant: \"outlined\",\n            onClick: () => setShowFilters(!showFilters),\n            startIcon: /*#__PURE__*/_jsxDEV(FilterListIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 44\n            }, this),\n            children: \"Filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 827,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 808,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          startIcon: /*#__PURE__*/_jsxDEV(SettingsIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 836,\n            columnNumber: 40\n          }, this),\n          onClick: () => setShowColumnDialog(true),\n          children: \"Tilpass kolonner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 835,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 807,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n        in: showFilters,\n        children: /*#__PURE__*/_jsxDEV(FilterBar, {\n          filters: filters,\n          setFilters: setFilters,\n          availableFilters: availableFilters\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 845,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 844,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: availableColumns.filter(col => col.enabled).map(col => /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                children: col.label\n              }, col.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 860,\n                columnNumber: 45\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 855,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: getFilteredResults().slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(course => /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(StyledTableRow, {\n                children: availableColumns.filter(col => col.enabled).map(col => {\n                  var _course$kursnavn, _course$kursnavn2, _course$level_of_stud2;\n                  return /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    children: [col.id === 'col-kurskode' && /*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        display: 'flex',\n                        flexDirection: 'column'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Link, {\n                        href: course.link_nb,\n                        target: \"_blank\",\n                        rel: \"noopener noreferrer\",\n                        sx: {\n                          color: 'primary.main',\n                          textDecoration: 'none',\n                          fontWeight: 600,\n                          '&:hover': {\n                            textDecoration: 'underline'\n                          }\n                        },\n                        children: course.kurskode\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 878,\n                        columnNumber: 69\n                      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        color: \"text.secondary\",\n                        children: (_course$kursnavn = course.kursnavn) === null || _course$kursnavn === void 0 ? void 0 : _course$kursnavn.replace('No', '')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 893,\n                        columnNumber: 69\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 877,\n                      columnNumber: 65\n                    }, this), col.id === 'col-semester' && course.semester, col.id === 'col-språk' && course.språk, col.id === 'col-kursnavn' && ((_course$kursnavn2 = course.kursnavn) === null || _course$kursnavn2 === void 0 ? void 0 : _course$kursnavn2.replace('No', '')), col.id === 'col-academic-coordinator' && course.academic_coordinator, col.id === 'col-portfolio' && course.portfolio, col.id === 'col-credits' && formatCredits(course.credits), col.id === 'col-institutt' && course.ansvarlig_institutt, col.id === 'col-område' && course.ansvarlig_område, col.id === 'col-level' && ((_course$level_of_stud2 = course.level_of_study) === null || _course$level_of_stud2 === void 0 ? void 0 : _course$level_of_stud2.replace('No', '')), col.id === 'col-pensum' && course.pensum, col.id === 'col-similarity' && /*#__PURE__*/_jsxDEV(SimilarityBadge, {\n                      similarity: course.similarity,\n                      children: [course.similarity, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 909,\n                      columnNumber: 65\n                    }, this), col.id === 'col-ai' && /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"small\",\n                      onClick: () => toggleExplanation(course),\n                      disabled: loadingExplanations[course.kurskode],\n                      variant: \"contained\",\n                      children: loadingExplanations[course.kurskode] ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                        size: 20\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 921,\n                        columnNumber: 73\n                      }, this) : course.explanation ? expandedExplanations[course.kurskode] ? 'Skjul' : 'Vis' : 'Analyser'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 914,\n                      columnNumber: 65\n                    }, this)]\n                  }, col.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 875,\n                    columnNumber: 57\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 871,\n                columnNumber: 45\n              }, this), course.explanation && expandedExplanations[course.kurskode] && /*#__PURE__*/_jsxDEV(TableRow, {\n                children: /*#__PURE__*/_jsxDEV(TableCell, {\n                  colSpan: availableColumns.length,\n                  sx: {\n                    p: 0\n                  },\n                  children: /*#__PURE__*/_jsxDEV(RowExplanation, {\n                    className: `row-explanation ${expandedExplanations[course.kurskode] ? 'visible' : ''}`,\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"subtitle1\",\n                      sx: {\n                        mb: 1,\n                        fontWeight: 600,\n                        p: 2\n                      },\n                      children: \"Course Overlap Analysis\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 938,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        px: 2,\n                        pb: 2\n                      },\n                      children: course.explanation.split('\\n').map((line, index) => {\n                        if (line.startsWith('###')) {\n                          return /*#__PURE__*/_jsxDEV(Typography, {\n                            variant: \"subtitle2\",\n                            sx: {\n                              mt: 2,\n                              mb: 1,\n                              color: 'primary.main',\n                              fontWeight: 600\n                            },\n                            children: line.replace('###', '').trim()\n                          }, index, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 945,\n                            columnNumber: 77\n                          }, this);\n                        }\n                        return /*#__PURE__*/_jsxDEV(Typography, {\n                          variant: \"body2\",\n                          sx: {\n                            mb: 1,\n                            pl: line.startsWith('▸') || line.startsWith('•') ? 2 : line.startsWith('-') ? 4 : 0\n                          },\n                          children: line\n                        }, index, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 960,\n                          columnNumber: 73\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 941,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 935,\n                    columnNumber: 57\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 934,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 933,\n                columnNumber: 49\n              }, this)]\n            }, course.kurskode, true, {\n              fileName: _jsxFileName,\n              lineNumber: 870,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 854,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 853,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'flex-end',\n          mt: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(TablePagination, {\n          component: \"div\",\n          count: getFilteredResults().length,\n          page: page,\n          onPageChange: handleChangePage,\n          rowsPerPage: rowsPerPage,\n          onRowsPerPageChange: handleChangeRowsPerPage,\n          rowsPerPageOptions: [5, 10, 25]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 984,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 983,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 806,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showColumnDialog,\n      onClose: () => setShowColumnDialog(false),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Tilpass kolonner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1004,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"textSecondary\",\n          sx: {\n            mb: 2\n          },\n          children: \"Bruk pilene for \\xE5 endre rekkef\\xF8lgen. Velg hvilke kolonner som skal vises.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1008,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 1\n          },\n          children: availableColumns.map((column, index) => /*#__PURE__*/_jsxDEV(ColumnListItem, {\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 1,\n                flex: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Switch, {\n                checked: column.enabled,\n                onChange: () => {\n                  if (!column.required) {\n                    setAvailableColumns(cols => cols.map(col => col.id === column.id ? {\n                      ...col,\n                      enabled: !col.enabled\n                    } : col));\n                  }\n                },\n                disabled: column.required,\n                inputProps: {\n                  'aria-label': `Toggle ${column.label}`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1015,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                flex: 1,\n                children: [column.label, column.required && /*#__PURE__*/_jsxDEV(Typography, {\n                  component: \"span\",\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  sx: {\n                    ml: 1\n                  },\n                  children: \"(P\\xE5krevd)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1036,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1033,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  gap: 0.5\n                },\n                children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                  size: \"small\",\n                  onClick: () => moveColumn(index, 'up'),\n                  disabled: index === 0,\n                  children: /*#__PURE__*/_jsxDEV(ArrowUpwardIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1052,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1047,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                  size: \"small\",\n                  onClick: () => moveColumn(index, 'down'),\n                  disabled: index === availableColumns.length - 1,\n                  children: /*#__PURE__*/_jsxDEV(ArrowDownwardIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1059,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1054,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1046,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1014,\n              columnNumber: 33\n            }, this)\n          }, column.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1013,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1011,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1007,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: resetColumnSettings,\n          color: \"secondary\",\n          children: \"Tilbakestill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1068,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setShowColumnDialog(false),\n          children: \"Lukk\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1074,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1067,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 998,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 696,\n    columnNumber: 9\n  }, this);\n};\n_s(CourseComparison, \"hk9zbp2Ib7kNU69r42L1wJ4Mxy4=\");\n_c12 = CourseComparison;\nexport default CourseComparison;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12;\n$RefreshReg$(_c, \"StyledCard\");\n$RefreshReg$(_c2, \"AnimatedButton\");\n$RefreshReg$(_c3, \"StyledTableCell\");\n$RefreshReg$(_c4, \"StyledTableRow\");\n$RefreshReg$(_c5, \"RowExplanation\");\n$RefreshReg$(_c6, \"SimilarityBadge\");\n$RefreshReg$(_c7, \"ErrorDisplay\");\n$RefreshReg$(_c8, \"MobileResultCard\");\n$RefreshReg$(_c9, \"ColumnListItem\");\n$RefreshReg$(_c10, \"FilterSection\");\n$RefreshReg$(_c11, \"FilterBar\");\n$RefreshReg$(_c12, \"CourseComparison\");","map":{"version":3,"names":["React","useState","useEffect","fetchStoredEmbeddings","generateEmbedding","generateOverlapExplanation","findSimilarCourses","Box","Button","CircularProgress","Container","TextField","Typography","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Link","Tooltip","IconButton","TablePagination","Alert","InputAdornment","Collapse","Grid","Card","Dialog","DialogTitle","DialogContent","DialogActions","Switch","FormControl","InputLabel","Select","MenuItem","Slider","Chip","styled","KeyboardArrowDownIcon","KeyboardArrowUpIcon","InfoIcon","FilterListIcon","SearchIcon","SettingsIcon","DragIndicatorIcon","ArrowUpwardIcon","ArrowDownwardIcon","alpha","Papa","DragDropContext","Droppable","Draggable","FilterAltIcon","ClearIcon","jsxDEV","_jsxDEV","MIN_INPUT_LENGTH","MAX_INPUT_LENGTH","COLUMN_SETTINGS_KEY","validateInput","text","cleaned","trim","length","StyledCard","theme","borderRadius","padding","spacing","background","palette","mode","boxShadow","transition","transform","_c","AnimatedButton","fontWeight","textTransform","_c2","StyledTableCell","backgroundColor","color","primary","fontSize","borderBottom","main","divider","_c3","StyledTableRow","opacity","height","_c4","ExplanationButton","minWidth","action","disabled","RowExplanation","overflow","margin","_c5","SimilarityBadge","similarity","display","alignItems","success","warning","error","light","dark","_c6","FilterChip","active","cursor","common","black","white","border","ErrorDisplay","onRetry","sx","textAlign","p","children","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","onClick","variant","mt","_c7","MobileResultCard","course","mb","kurskode","kursnavn","justifyContent","credits","_c8","formatCredits","toString","ColumnListItem","marginBottom","paper","shape","hover","_c9","FilterSection","_c10","FilterBar","filters","setFilters","availableFilters","handleClearFilters","searchTerm","similarityRange","studyLevel","language","activeFilterCount","Object","values","filter","value","Array","isArray","gap","label","size","startIcon","container","item","xs","sm","md","fullWidth","onChange","e","target","studyLevels","map","level","languages","lang","creditOptions","credit","newValue","valueLabelDisplay","min","max","_c11","CourseComparison","_s","loading","setLoading","results","setResults","setError","loadingExplanations","setLoadingExplanations","page","setPage","rowsPerPage","setRowsPerPage","showForm","setShowForm","formData","setFormData","courseName","courseDescription","courseLiterature","setSearchTerm","showFilters","setShowFilters","expandedExplanations","setExpandedExplanations","setAvailableFilters","showColumnDialog","setShowColumnDialog","defaultColumns","id","enabled","required","field","availableColumns","setAvailableColumns","savedColumns","localStorage","getItem","JSON","parse","handleChangePage","event","newPage","handleChangeRowsPerPage","parseInt","handleInputChange","name","prev","handleGenerateExplanation","courseText","console","log","courseCode","inputData","content","inputCourse","storedCourse","explanation","Error","prevResults","r","err","message","handleSubmit","preventDefault","embeddings","norwegianLength","norwegian","englishLength","english","storedCourses","similarCourses","details","type","getFilteredResults","searchMatch","toLowerCase","includes","similarityMatch","levelMatch","level_of_study","languageMatch","språk","creditsMatch","toggleForm","toggleExplanation","extractFilters","courses","levels","Set","langs","forEach","add","from","sort","a","b","exportResults","csvContent","_course$kursansvarlig","_course$level_of_stud","_course$språk","replace","kursansvarlig","semester","portfolio","ansvarlig_område","csv","unparse","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","click","moveColumn","index","direction","prevColumns","newColumns","newIndex","setItem","stringify","resetColumnSettings","maxWidth","py","in","onSubmit","InputProps","multiline","rows","mr","placeholder","startAdornment","position","col","slice","Fragment","_course$kursnavn","_course$kursnavn2","_course$level_of_stud2","flexDirection","link_nb","rel","textDecoration","academic_coordinator","ansvarlig_institutt","pensum","colSpan","className","px","pb","split","line","startsWith","pl","component","count","onPageChange","onRowsPerPageChange","rowsPerPageOptions","open","onClose","column","flex","checked","cols","inputProps","ml","_c12","$RefreshReg$"],"sources":["C:/Users/A1510207/OneDrive - BI Norwegian Business School (BIEDU)/Documents/Dev prosjekter/SWAAKON-React/src/components/CourseComparison.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { fetchStoredEmbeddings } from '../services/supabase';\nimport { generateEmbedding, generateOverlapExplanation } from '../services/openai';\nimport { findSimilarCourses } from '../services/similarity';\nimport {\n    Box,\n    Button,\n    CircularProgress,\n    Container,\n    TextField,\n    Typography,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow,\n    Paper,\n    Link,\n    Tooltip,\n    IconButton,\n    TablePagination,\n    Alert,\n    InputAdornment,\n    Collapse,\n    Grid,\n    Card,\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Switch,\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem,\n    Slider,\n    Chip,\n} from '@mui/material';\nimport styled from '@emotion/styled';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\nimport InfoIcon from '@mui/icons-material/Info';\nimport FilterListIcon from '@mui/icons-material/FilterList';\nimport SearchIcon from '@mui/icons-material/Search';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport DragIndicatorIcon from '@mui/icons-material/DragIndicator';\nimport ArrowUpwardIcon from '@mui/icons-material/ArrowUpward';\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\nimport { alpha } from '@mui/material/styles';\nimport Papa from 'papaparse';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport FilterAltIcon from '@mui/icons-material/FilterAlt';\nimport ClearIcon from '@mui/icons-material/Clear';\n\nconst MIN_INPUT_LENGTH = 10;\nconst MAX_INPUT_LENGTH = 5000;\nconst COLUMN_SETTINGS_KEY = 'courseComparisonColumns';\n\nconst validateInput = (text) => {\n    if (!text || typeof text !== 'string') return false;\n    const cleaned = text.trim();\n    return cleaned.length >= MIN_INPUT_LENGTH && cleaned.length <= MAX_INPUT_LENGTH;\n};\n\n// Styled components\nconst StyledCard = styled(Paper)(({ theme }) => ({\n    borderRadius: '16px',\n    padding: theme.spacing(3),\n    background: theme.palette.mode === 'dark'\n        ? 'linear-gradient(145deg, #1e1e1e, #2d2d2d)'\n        : 'linear-gradient(145deg, #ffffff, #f5f5f5)',\n    boxShadow: theme.palette.mode === 'dark'\n        ? '0 8px 32px rgba(0, 0, 0, 0.3)'\n        : '0 8px 32px rgba(0, 0, 0, 0.08)',\n    transition: 'transform 0.2s ease',\n    '&:hover': {\n        transform: 'translateY(-2px)'\n    }\n}));\n\nconst AnimatedButton = styled(Button)(({ theme }) => ({\n    borderRadius: '12px',\n    padding: '12px 24px',\n    transition: 'all 0.2s ease',\n    fontWeight: 600,\n    textTransform: 'none',\n    '&:hover': {\n        transform: 'translateY(-2px)',\n        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)'\n    }\n}));\n\nconst StyledTableCell = styled(TableCell)(({ theme }) => ({\n    '&.MuiTableCell-head': {\n        backgroundColor: 'transparent',\n        color: theme.palette.text.primary,\n        fontWeight: 600,\n        fontSize: '0.95rem',\n        borderBottom: `2px solid ${alpha(theme.palette.primary.main, 0.1)}`\n    },\n    '&.MuiTableCell-body': {\n        fontSize: '0.9rem',\n        borderBottom: `1px solid ${alpha(theme.palette.divider, 0.5)}`\n    }\n}));\n\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\n    transition: 'all 0.2s ease',\n    '&:hover': {\n        backgroundColor: alpha(theme.palette.primary.main, 0.05),\n        '& .row-explanation': {\n            opacity: 1,\n            height: 'auto',\n            padding: theme.spacing(2)\n        }\n    }\n}));\n\nconst ExplanationButton = styled(Button)(({ theme }) => ({\n    minWidth: 'auto',\n    padding: '6px 12px',\n    transition: 'all 0.2s ease',\n    backgroundColor: alpha(theme.palette.primary.main, theme.palette.mode === 'dark' ? 0.2 : 0.1),\n    color: theme.palette.primary.main,\n    '&:hover': {\n        backgroundColor: alpha(theme.palette.primary.main, theme.palette.mode === 'dark' ? 0.3 : 0.2),\n        transform: 'scale(1.02)'\n    },\n    '&.Mui-disabled': {\n        backgroundColor: alpha(theme.palette.action.disabled, theme.palette.mode === 'dark' ? 0.2 : 0.1)\n    }\n}));\n\nconst RowExplanation = styled(Box)(({ theme }) => ({\n    opacity: 0,\n    height: 0,\n    overflow: 'hidden',\n    transition: 'all 0.3s ease',\n    backgroundColor: alpha(\n        theme.palette.primary.main,\n        theme.palette.mode === 'dark' ? 0.15 : 0.05\n    ),\n    borderRadius: theme.spacing(1),\n    margin: theme.spacing(1, 3),\n    padding: 0,\n    '&.visible': {\n        opacity: 1,\n        height: 'auto',\n        padding: theme.spacing(2)\n    }\n}));\n\nconst SimilarityBadge = styled(Box)(({ theme, similarity }) => ({\n    display: 'inline-flex',\n    alignItems: 'center',\n    padding: '6px 12px',\n    borderRadius: '20px',\n    fontWeight: 600,\n    fontSize: '0.85rem',\n    backgroundColor: similarity >= 70\n        ? alpha(theme.palette.success.main, theme.palette.mode === 'dark' ? 0.2 : 0.1)\n        : similarity >= 50\n            ? alpha(theme.palette.warning.main, theme.palette.mode === 'dark' ? 0.2 : 0.1)\n            : alpha(theme.palette.error.main, theme.palette.mode === 'dark' ? 0.2 : 0.1),\n    color: theme.palette.mode === 'dark'\n        ? similarity >= 70\n            ? theme.palette.success.light\n            : similarity >= 50\n                ? theme.palette.warning.light\n                : theme.palette.error.light\n        : similarity >= 70\n            ? theme.palette.success.dark\n            : similarity >= 50\n                ? theme.palette.warning.dark\n                : theme.palette.error.dark\n}));\n\nconst FilterChip = styled(Box)(({ theme, active }) => ({\n    display: 'inline-flex',\n    alignItems: 'center',\n    padding: '6px 16px',\n    borderRadius: '20px',\n    fontSize: '0.9rem',\n    cursor: 'pointer',\n    backgroundColor: active\n        ? theme.palette.primary.main\n        : theme.palette.mode === 'dark' ? alpha(theme.palette.primary.main, 0.1) : 'transparent',\n    color: active\n        ? theme.palette.mode === 'dark' ? theme.palette.common.black : theme.palette.common.white\n        : theme.palette.text.primary,\n    border: `1px solid ${active ? theme.palette.primary.main : theme.palette.divider}`,\n    transition: 'all 0.2s ease',\n    '&:hover': {\n        backgroundColor: active\n            ? theme.palette.primary.dark\n            : alpha(theme.palette.primary.main, theme.palette.mode === 'dark' ? 0.2 : 0.05)\n    }\n}));\n\nconst ErrorDisplay = ({ error, onRetry }) => (\n    <Box sx={{ textAlign: 'center', p: 4 }}>\n        <Typography color=\"error\" gutterBottom>\n            {error}\n        </Typography>\n        <Button onClick={onRetry} variant=\"contained\" sx={{ mt: 2 }}>\n            Prøv igjen\n        </Button>\n    </Box>\n);\n\nconst MobileResultCard = ({ course }) => (\n    <Card sx={{ mb: 2, p: 2 }}>\n        <Typography variant=\"h6\">{course.kurskode}</Typography>\n        <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\n            {course.kursnavn}\n        </Typography>\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 1 }}>\n            <Typography>Likhet: {course.similarity}%</Typography>\n            <Typography>{course.credits} stp</Typography>\n        </Box>\n    </Card>\n);\n\n// Hjelpefunksjon for å formatere studiepoeng\nconst formatCredits = (credits) => {\n    if (!credits) return '';\n    // Konverter fra 75 til 7.5 og 25 til 2.5\n    switch (credits) {\n        case 75:\n            return '7.5';\n        case 25:\n            return '2.5';\n        default:\n            return credits.toString();\n    }\n};\n\nconst ColumnListItem = styled(Box)(({ theme }) => ({\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: theme.shape.borderRadius,\n    border: `1px solid ${theme.palette.divider}`,\n    '&:hover': {\n        backgroundColor: theme.palette.action.hover\n    }\n}));\n\nconst FilterSection = styled(Box)(({ theme }) => ({\n    padding: theme.spacing(2),\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: theme.palette.background.paper,\n    marginBottom: theme.spacing(2),\n    border: `1px solid ${theme.palette.divider}`,\n}));\n\nconst FilterBar = ({ filters, setFilters, availableFilters }) => {\n    const handleClearFilters = () => {\n        setFilters({\n            searchTerm: '',\n            similarityRange: [0, 100],\n            studyLevel: 'all',\n            language: 'all',\n            credits: 'all'\n        });\n    };\n\n    const activeFilterCount = Object.values(filters).filter(value => \n        value !== 'all' && value !== '' && \n        !(Array.isArray(value) && value[0] === 0 && value[1] === 100)\n    ).length;\n\n    return (\n        <FilterSection>\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n                <Typography variant=\"subtitle1\" sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                    <FilterAltIcon />\n                    Aktive filtre\n                    {activeFilterCount > 0 && (\n                        <Chip \n                            label={activeFilterCount}\n                            size=\"small\"\n                            color=\"primary\"\n                        />\n                    )}\n                </Typography>\n                {activeFilterCount > 0 && (\n                    <Button\n                        startIcon={<ClearIcon />}\n                        onClick={handleClearFilters}\n                        size=\"small\"\n                    >\n                        Nullstill filtre\n                    </Button>\n                )}\n            </Box>\n            \n            <Grid container spacing={2}>\n                <Grid item xs={12} sm={6} md={3}>\n                    <FormControl fullWidth size=\"small\">\n                        <InputLabel>Studienivå</InputLabel>\n                        <Select\n                            value={filters.studyLevel}\n                            onChange={(e) => setFilters({ ...filters, studyLevel: e.target.value })}\n                            label=\"Studienivå\"\n                        >\n                            <MenuItem value=\"all\">Alle nivåer</MenuItem>\n                            {availableFilters.studyLevels.map(level => (\n                                <MenuItem key={level} value={level}>\n                                    {level}\n                                </MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl>\n                </Grid>\n\n                <Grid item xs={12} sm={6} md={3}>\n                    <FormControl fullWidth size=\"small\">\n                        <InputLabel>Språk</InputLabel>\n                        <Select\n                            value={filters.language}\n                            onChange={(e) => setFilters({ ...filters, language: e.target.value })}\n                            label=\"Språk\"\n                        >\n                            <MenuItem value=\"all\">Alle språk</MenuItem>\n                            {availableFilters.languages.map(lang => (\n                                <MenuItem key={lang} value={lang}>\n                                    {lang}\n                                </MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl>\n                </Grid>\n\n                <Grid item xs={12} sm={6} md={3}>\n                    <FormControl fullWidth size=\"small\">\n                        <InputLabel>Studiepoeng</InputLabel>\n                        <Select\n                            value={filters.credits}\n                            onChange={(e) => setFilters({ ...filters, credits: e.target.value })}\n                            label=\"Studiepoeng\"\n                        >\n                            <MenuItem value=\"all\">Alle</MenuItem>\n                            {availableFilters.creditOptions.map(credit => (\n                                <MenuItem key={credit} value={credit}>\n                                    {formatCredits(credit)} stp\n                                </MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl>\n                </Grid>\n\n                <Grid item xs={12} sm={6} md={3}>\n                    <Typography gutterBottom>\n                        Likhet: {filters.similarityRange[0]}% - {filters.similarityRange[1]}%\n                    </Typography>\n                    <Slider\n                        value={filters.similarityRange}\n                        onChange={(e, newValue) => setFilters({ ...filters, similarityRange: newValue })}\n                        valueLabelDisplay=\"auto\"\n                        min={0}\n                        max={100}\n                    />\n                </Grid>\n            </Grid>\n        </FilterSection>\n    );\n};\n\nconst CourseComparison = () => {\n    const [loading, setLoading] = useState(false);\n    const [results, setResults] = useState(null);\n    const [error, setError] = useState(null);\n    const [loadingExplanations, setLoadingExplanations] = useState({});\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(10);\n    const [showForm, setShowForm] = useState(true);\n    const [formData, setFormData] = useState({\n        courseName: '',\n        courseDescription: '',\n        courseLiterature: ''\n    });\n    const [searchTerm, setSearchTerm] = useState('');\n    const [showFilters, setShowFilters] = useState(false);\n    const [expandedExplanations, setExpandedExplanations] = useState({});\n    const [filters, setFilters] = useState({\n        searchTerm: '',\n        similarityRange: [0, 100],\n        studyLevel: 'all',\n        language: 'all',\n        credits: 'all'\n    });\n\n    const [availableFilters, setAvailableFilters] = useState({\n        studyLevels: [],\n        languages: [],\n        creditOptions: []\n    });\n\n    const [showColumnDialog, setShowColumnDialog] = useState(false);\n    const defaultColumns = [\n        { id: 'col-kurskode', label: 'Kurs', enabled: true, required: true, field: 'kurskode' },\n        { id: 'col-semester', label: 'Semester', enabled: true, field: 'semester' },\n        { id: 'col-språk', label: 'Språk (Original)', enabled: false, field: 'språk' },\n        { id: 'col-kursnavn', label: 'Kursnavn', enabled: false, field: 'kursnavn' },\n        { id: 'col-academic-coordinator', label: 'Academic Coordinator', enabled: false, field: 'academic_coordinator' },\n        { id: 'col-credits', label: 'Studiepoeng', enabled: true, field: 'credits' },\n        { id: 'col-portfolio', label: 'Portfolio', enabled: true, field: 'portfolio' },\n        { id: 'col-institutt', label: 'Institutt', enabled: false, field: 'ansvarlig_institutt' },\n        { id: 'col-område', label: 'Forretningsområde', enabled: true, field: 'ansvarlig_område' },\n        { id: 'col-level', label: 'Nivå', enabled: true, field: 'level_of_study' },\n        { id: 'col-pensum', label: 'Pensum', enabled: false, field: 'pensum' },\n        { id: 'col-similarity', label: 'Likhet', enabled: true, required: true, field: 'similarity' },\n        { id: 'col-ai', label: 'AI Analyse', enabled: true, required: true, field: 'ai_analyse' }\n    ];\n\n    const [availableColumns, setAvailableColumns] = useState(() => {\n        const savedColumns = localStorage.getItem(COLUMN_SETTINGS_KEY);\n        if (savedColumns) {\n            return JSON.parse(savedColumns);\n        }\n        return defaultColumns;\n    });\n\n    // Handle page change\n    const handleChangePage = (event, newPage) => {\n        setPage(newPage);\n    };\n\n    // Handle rows per page change\n    const handleChangeRowsPerPage = (event) => {\n        setRowsPerPage(parseInt(event.target.value, 10));\n        setPage(0);\n    };\n\n    const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({\n            ...prev,\n            [name]: value\n        }));\n    };\n\n    const handleGenerateExplanation = async (course, courseText) => {\n        console.log('Starting explanation generation for:', {\n            courseCode: course.kurskode,\n            inputData: {\n                name: formData.courseName,\n                content: courseText,\n            },\n            similarity: course.similarity\n        });\n\n        setLoadingExplanations(prev => ({ ...prev, [course.kurskode]: true }));\n\n        try {\n            console.log('Calling generateOverlapExplanation with:', {\n                inputCourse: {\n                    name: formData.courseName,\n                    content: courseText,\n                },\n                storedCourse: course,\n                similarity: course.similarity\n            });\n\n            const explanation = await generateOverlapExplanation(\n                {\n                    name: formData.courseName,\n                    content: courseText,\n                },\n                course,\n                course.similarity\n            );\n\n            console.log('Received explanation:', explanation);\n\n            if (!explanation) {\n                throw new Error('No explanation was generated');\n            }\n\n            setResults(prevResults =>\n                prevResults.map(r =>\n                    r.kurskode === course.kurskode\n                        ? { ...r, explanation }\n                        : r\n                )\n            );\n        } catch (err) {\n            console.error('Error generating explanation:', err);\n            setError(`Failed to generate explanation for ${course.kurskode}: ${err.message}`);\n        } finally {\n            // Always clear loading state, whether successful or not\n            setLoadingExplanations(prev => ({ ...prev, [course.kurskode]: false }));\n        }\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        setError(null);\n        setResults(null);\n        setLoadingExplanations({});\n\n        try {\n            // Validate inputs\n            if (!validateInput(formData.courseName)) {\n                throw new Error('Course name must be between 10 and 5000 characters');\n            }\n            if (!validateInput(formData.courseDescription)) {\n                throw new Error('Course description must be between 10 and 5000 characters');\n            }\n            if (formData.courseLiterature && !validateInput(formData.courseLiterature)) {\n                throw new Error('Course literature must be between 10 and 5000 characters if provided');\n            }\n\n            // Combine course information for embedding\n            const courseText = `\n                Course Name: ${formData.courseName.trim()}\n                Course Description: ${formData.courseDescription.trim()}\n                ${formData.courseLiterature ? `Course Literature: ${formData.courseLiterature.trim()}` : ''}\n            `.trim();\n\n            console.log('Starting course analysis with text length:', courseText.length);\n\n            // Generate embeddings for both Norwegian and English versions\n            const embeddings = await generateEmbedding(courseText);\n            console.log('Generated embeddings:', {\n                norwegianLength: embeddings.norwegian.length,\n                englishLength: embeddings.english.length\n            });\n\n            // Fetch stored courses\n            const storedCourses = await fetchStoredEmbeddings();\n            if (!storedCourses || storedCourses.length === 0) {\n                throw new Error('No stored courses found to compare against');\n            }\n            console.log(`Fetched ${storedCourses.length} stored courses`);\n\n            // Find similar courses using the Norwegian embedding since our stored courses are in Norwegian\n            const similarCourses = await findSimilarCourses(embeddings.norwegian, storedCourses);\n            console.log(`Found ${similarCourses.length} similar courses`);\n\n            if (similarCourses.length === 0) {\n                setResults([]);\n                setError('No similar courses found. Try providing more detailed course information.');\n                return;\n            }\n\n            // Set results without explanations\n            setResults(similarCourses.map(course => ({\n                ...course,\n                explanation: null\n            })));\n            \n            // Skjul analyseformen når resultatene er klare\n            setShowForm(false);\n\n        } catch (err) {\n            console.error('Error in course analysis:', err);\n            setError({\n                message: 'Kunne ikke fullføre analysen',\n                details: err.message,\n                type: err.name\n            });\n            setResults(null);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const getFilteredResults = () => {\n        return results.filter(course => {\n            // Søketekst\n            const searchMatch = !filters.searchTerm || \n                course.kurskode.toLowerCase().includes(filters.searchTerm.toLowerCase()) ||\n                course.kursnavn.toLowerCase().includes(filters.searchTerm.toLowerCase());\n\n            // Similarity score range\n            const similarityMatch = course.similarity >= filters.similarityRange[0] && \n                                  course.similarity <= filters.similarityRange[1];\n\n            // Studienivå\n            const levelMatch = filters.studyLevel === 'all' || \n                             course.level_of_study === filters.studyLevel;\n\n            // Språk\n            const languageMatch = filters.language === 'all' || \n                                course.språk === filters.language;\n\n            // Studiepoeng\n            const creditsMatch = filters.credits === 'all' || \n                               course.credits === filters.credits;\n\n            return searchMatch && similarityMatch && levelMatch && \n                   languageMatch && creditsMatch;\n        });\n    };\n\n    // Add toggle function\n    const toggleForm = () => {\n        setShowForm(!showForm);\n    };\n\n    const toggleExplanation = (course) => {\n        if (course.explanation) {\n            // If explanation exists, just toggle visibility\n            setExpandedExplanations(prev => ({\n                ...prev,\n                [course.kurskode]: !prev[course.kurskode]\n            }));\n        } else {\n            // If no explanation exists, generate one\n            handleGenerateExplanation(course, formData.courseDescription);\n            setExpandedExplanations(prev => ({\n                ...prev,\n                [course.kurskode]: true\n            }));\n        }\n    };\n\n    // Hent tilgjengelige filtervalg når komponentet lastes\n    useEffect(() => {\n        const extractFilters = (courses) => {\n            const levels = new Set();\n            const langs = new Set();\n            const credits = new Set();\n\n            courses.forEach(course => {\n                if (course.level_of_study) levels.add(course.level_of_study);\n                if (course.språk) langs.add(course.språk);\n                if (course.credits) credits.add(course.credits);\n            });\n\n            setAvailableFilters({\n                studyLevels: Array.from(levels).sort(),\n                languages: Array.from(langs).sort(),\n                creditOptions: Array.from(credits).sort((a, b) => a - b)\n            });\n        };\n\n        // Kall denne når kursene lastes\n        if (results && results.length > 0) {\n            extractFilters(results);\n        }\n    }, [results]);\n\n    const exportResults = () => {\n        const csvContent = results.map(course => ({\n            'Kurs Kode': course.kurskode,\n            'Kurs Navn': course.kursnavn.replace('No', ''),\n            'Kursansvarlig': course.kursansvarlig?.replace('No', ''),\n            'Nivå': course.level_of_study?.replace('No', ''),\n            'Studiepoeng': formatCredits(course.credits),\n            'Semester': course.semester,\n            'Språk': course.språk?.replace('No', ''),\n            'Vurderingsform': course.portfolio,\n            'Fagområde': course.ansvarlig_område,\n            'Likhet': `${course.similarity}%`\n        }));\n\n        const csv = Papa.unparse(csvContent);\n        const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n        const link = document.createElement('a');\n        link.href = URL.createObjectURL(blob);\n        link.download = 'kursanalyse_resultater.csv';\n        link.click();\n    };\n\n    const moveColumn = (index, direction) => {\n        setAvailableColumns(prevColumns => {\n            const newColumns = [...prevColumns];\n            const newIndex = direction === 'up' ? index - 1 : index + 1;\n            \n            if (newIndex >= 0 && newIndex < newColumns.length) {\n                [newColumns[index], newColumns[newIndex]] = [newColumns[newIndex], newColumns[index]];\n                localStorage.setItem(COLUMN_SETTINGS_KEY, JSON.stringify(newColumns));\n            }\n            \n            return newColumns;\n        });\n    };\n\n    const resetColumnSettings = () => {\n        setAvailableColumns(defaultColumns);\n        localStorage.setItem(COLUMN_SETTINGS_KEY, JSON.stringify(defaultColumns));\n    };\n\n    useEffect(() => {\n        localStorage.setItem(COLUMN_SETTINGS_KEY, JSON.stringify(availableColumns));\n    }, [availableColumns]);\n\n    return (\n        <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n            {/* Hero Section */}\n            <Box sx={{\n                textAlign: 'center',\n                mb: 4,\n                background: theme => theme.palette.mode === 'dark'\n                    ? 'linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%)'\n                    : 'linear-gradient(135deg, #f6f9fe 0%, #f1f4f9 100%)',\n                borderRadius: '24px',\n                p: 3\n            }}>\n                <AnimatedButton\n                    variant=\"contained\"\n                    onClick={toggleForm}\n                    startIcon={showForm ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\n                    disabled={loading}\n                >\n                    {loading ? 'Analyserer...' : (showForm ? 'Skjul analyseskjema' : 'Start ny analyse')}\n                </AnimatedButton>\n            </Box>\n\n            {/* Analysis Form */}\n            <Collapse in={showForm}>\n                <StyledCard sx={{ mb: 4 }}>\n                    <form onSubmit={handleSubmit}>\n                        <Grid container spacing={3}>\n                            <Grid item xs={12}>\n                                <TextField\n                                    fullWidth\n                                    name=\"courseName\"\n                                    label=\"Course Name\"\n                                    value={formData.courseName}\n                                    onChange={handleInputChange}\n                                    required\n                                    variant=\"filled\"\n                                    InputProps={{\n                                        sx: {\n                                            borderRadius: '12px',\n                                            backgroundColor: 'rgba(0,0,0,0.02)'\n                                        }\n                                    }}\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField\n                                    fullWidth\n                                    name=\"courseDescription\"\n                                    label=\"Course Description\"\n                                    value={formData.courseDescription}\n                                    onChange={handleInputChange}\n                                    required\n                                    multiline\n                                    rows={4}\n                                    variant=\"filled\"\n                                    InputProps={{\n                                        sx: {\n                                            borderRadius: '12px',\n                                            backgroundColor: 'rgba(0,0,0,0.02)'\n                                        }\n                                    }}\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField\n                                    fullWidth\n                                    name=\"courseLiterature\"\n                                    label=\"Course Literature (Optional)\"\n                                    value={formData.courseLiterature}\n                                    onChange={handleInputChange}\n                                    multiline\n                                    rows={3}\n                                    variant=\"filled\"\n                                    InputProps={{\n                                        sx: {\n                                            borderRadius: '12px',\n                                            backgroundColor: 'rgba(0,0,0,0.02)'\n                                        }\n                                    }}\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <AnimatedButton\n                                    type=\"submit\"\n                                    variant=\"contained\"\n                                    size=\"large\"\n                                    disabled={loading}\n                                    fullWidth\n                                >\n                                    {loading ? (\n                                        <CircularProgress size={24} sx={{ mr: 1 }} />\n                                    ) : (\n                                        <SearchIcon sx={{ mr: 1 }} />\n                                    )}\n                                    Analyze Course Overlap\n                                </AnimatedButton>\n                            </Grid>\n                        </Grid>\n                    </form>\n                </StyledCard>\n            </Collapse>\n\n            {error && (\n                <ErrorDisplay error={error.message} onRetry={() => {\n                    setError(null);\n                    setResults(null);\n                    setLoading(true);\n                }} />\n            )}\n\n            {results && (\n                <StyledCard>\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 2 }}>\n                        <Box sx={{ display: 'flex', gap: 2 }}>\n                            <TextField\n                                fullWidth\n                                size=\"small\"\n                                placeholder=\"Search courses...\"\n                                value={searchTerm}\n                                onChange={(e) => setSearchTerm(e.target.value)}\n                                InputProps={{\n                                    startAdornment: (\n                                        <InputAdornment position=\"start\">\n                                            <SearchIcon />\n                                        </InputAdornment>\n                                    ),\n                                    sx: {\n                                        borderRadius: '12px',\n                                        backgroundColor: 'rgba(0,0,0,0.02)'\n                                    }\n                                }}\n                            />\n                            <AnimatedButton\n                                variant=\"outlined\"\n                                onClick={() => setShowFilters(!showFilters)}\n                                startIcon={<FilterListIcon />}\n                            >\n                                Filters\n                            </AnimatedButton>\n                        </Box>\n                        <Button\n                            startIcon={<SettingsIcon />}\n                            onClick={() => setShowColumnDialog(true)}\n                        >\n                            Tilpass kolonner\n                        </Button>\n                        </Box>\n\n                    {/* Search and Filters */}\n                        <Collapse in={showFilters}>\n                            <FilterBar \n                                filters={filters}\n                                setFilters={setFilters}\n                                availableFilters={availableFilters}\n                            />\n                        </Collapse>\n\n                    {/* Results Table */}\n                    <TableContainer>\n                        <Table>\n                            <TableHead>\n                                <TableRow>\n                                    {availableColumns\n                                        .filter(col => col.enabled)\n                                        .map(col => (\n                                            <StyledTableCell key={col.id}>\n                                                {col.label}\n                                            </StyledTableCell>\n                                        ))}\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {getFilteredResults()\n                                    .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                                    .map((course) => (\n                                        <React.Fragment key={course.kurskode}>\n                                            <StyledTableRow>\n                                                {availableColumns\n                                                    .filter(col => col.enabled)\n                                                    .map(col => (\n                                                        <StyledTableCell key={col.id}>\n                                                            {col.id === 'col-kurskode' && (\n                                                                <Box sx={{ display: 'flex', flexDirection: 'column' }}>\n                                                                    <Link\n                                                                        href={course.link_nb}\n                                                                        target=\"_blank\"\n                                                                        rel=\"noopener noreferrer\"\n                                                                        sx={{\n                                                                            color: 'primary.main',\n                                                                            textDecoration: 'none',\n                                                                            fontWeight: 600,\n                                                                            '&:hover': {\n                                                                                textDecoration: 'underline'\n                                                                            }\n                                                                        }}\n                                                                    >\n                                                                        {course.kurskode}\n                                                                    </Link>\n                                                                    <Typography variant=\"body2\" color=\"text.secondary\">\n                                                                        {course.kursnavn?.replace('No', '')}\n                                                                    </Typography>\n                                                                </Box>\n                                                            )}\n                                                            {col.id === 'col-semester' && course.semester}\n                                                            {col.id === 'col-språk' && course.språk}\n                                                            {col.id === 'col-kursnavn' && course.kursnavn?.replace('No', '')}\n                                                            {col.id === 'col-academic-coordinator' && course.academic_coordinator}\n                                                            {col.id === 'col-portfolio' && course.portfolio}\n                                                            {col.id === 'col-credits' && formatCredits(course.credits)}\n                                                            {col.id === 'col-institutt' && course.ansvarlig_institutt}\n                                                            {col.id === 'col-område' && course.ansvarlig_område}\n                                                            {col.id === 'col-level' && course.level_of_study?.replace('No', '')}\n                                                            {col.id === 'col-pensum' && course.pensum}\n                                                            {col.id === 'col-similarity' && (\n                                                                <SimilarityBadge similarity={course.similarity}>\n                                                                    {course.similarity}%\n                                                                </SimilarityBadge>\n                                                            )}\n                                                            {col.id === 'col-ai' && (\n                                                                <Button\n                                                                    size=\"small\"\n                                                                    onClick={() => toggleExplanation(course)}\n                                                                    disabled={loadingExplanations[course.kurskode]}\n                                                                    variant=\"contained\"\n                                                                >\n                                                                    {loadingExplanations[course.kurskode] ? (\n                                                                        <CircularProgress size={20} />\n                                                                    ) : (\n                                                                        course.explanation ? \n                                                                            (expandedExplanations[course.kurskode] ? 'Skjul' : 'Vis') \n                                                                            : 'Analyser'\n                                                                    )}\n                                                                </Button>\n                                                            )}\n                                                        </StyledTableCell>\n                                                    ))}\n                                            </StyledTableRow>\n                                            {course.explanation && expandedExplanations[course.kurskode] && (\n                                                <TableRow>\n                                                    <TableCell colSpan={availableColumns.length} sx={{ p: 0 }}>\n                                                        <RowExplanation\n                                                            className={`row-explanation ${expandedExplanations[course.kurskode] ? 'visible' : ''}`}\n                                                        >\n                                                            <Typography variant=\"subtitle1\" sx={{ mb: 1, fontWeight: 600, p: 2 }}>\n                                                                Course Overlap Analysis\n                                                            </Typography>\n                                                            <Box sx={{ px: 2, pb: 2 }}>\n                                                                {course.explanation.split('\\n').map((line, index) => {\n                                                                    if (line.startsWith('###')) {\n                                                                        return (\n                                                                            <Typography\n                                                                                key={index}\n                                                                                variant=\"subtitle2\"\n                                                                                sx={{\n                                                                                    mt: 2,\n                                                                                    mb: 1,\n                                                                                    color: 'primary.main',\n                                                                                    fontWeight: 600\n                                                                                }}\n                                                                            >\n                                                                                {line.replace('###', '').trim()}\n                                                                            </Typography>\n                                                                        );\n                                                                    }\n                                                                    return (\n                                                                        <Typography\n                                                                            key={index}\n                                                                            variant=\"body2\"\n                                                                            sx={{\n                                                                                mb: 1,\n                                                                                pl: line.startsWith('▸') || line.startsWith('•') ? 2 : line.startsWith('-') ? 4 : 0\n                                                                            }}\n                                                                        >\n                                                                            {line}\n                                                                        </Typography>\n                                                                    );\n                                                                })}\n                                                            </Box>\n                                                        </RowExplanation>\n                                                    </TableCell>\n                                                </TableRow>\n                                            )}\n                                        </React.Fragment>\n                                    ))}\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n\n                    <Box sx={{ display: 'flex', justifyContent: 'flex-end', mt: 2 }}>\n                        <TablePagination\n                            component=\"div\"\n                            count={getFilteredResults().length}\n                            page={page}\n                            onPageChange={handleChangePage}\n                            rowsPerPage={rowsPerPage}\n                            onRowsPerPageChange={handleChangeRowsPerPage}\n                            rowsPerPageOptions={[5, 10, 25]}\n                        />\n                    </Box>\n                </StyledCard>\n            )}\n\n            {/* Dialog for kolonnetilpasning */}\n            <Dialog\n                open={showColumnDialog}\n                onClose={() => setShowColumnDialog(false)}\n                maxWidth=\"sm\"\n                fullWidth\n            >\n                <DialogTitle>\n                    Tilpass kolonner\n                </DialogTitle>\n                <DialogContent>\n                    <Typography variant=\"body2\" color=\"textSecondary\" sx={{ mb: 2 }}>\n                        Bruk pilene for å endre rekkefølgen. Velg hvilke kolonner som skal vises.\n                    </Typography>\n                    <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\n                        {availableColumns.map((column, index) => (\n                            <ColumnListItem key={column.id}>\n                                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, flex: 1 }}>\n                                    <Switch\n                                        checked={column.enabled}\n                                        onChange={() => {\n                                            if (!column.required) {\n                                                setAvailableColumns(cols =>\n                                                    cols.map(col =>\n                                                        col.id === column.id\n                                                            ? { ...col, enabled: !col.enabled }\n                                                            : col\n                                                    )\n                                                );\n                                            }\n                                        }}\n                                        disabled={column.required}\n                                        inputProps={{\n                                            'aria-label': `Toggle ${column.label}`\n                                        }}\n                                    />\n                                    <Typography flex={1}>\n                                        {column.label}\n                                        {column.required && (\n                                            <Typography\n                                                component=\"span\"\n                                                variant=\"caption\"\n                                                color=\"text.secondary\"\n                                                sx={{ ml: 1 }}\n                                            >\n                                                (Påkrevd)\n                                            </Typography>\n                                        )}\n                                    </Typography>\n                                    <Box sx={{ display: 'flex', gap: 0.5 }}>\n                                        <IconButton \n                                            size=\"small\"\n                                            onClick={() => moveColumn(index, 'up')}\n                                            disabled={index === 0}\n                                        >\n                                            <ArrowUpwardIcon fontSize=\"small\" />\n                                        </IconButton>\n                                        <IconButton \n                                            size=\"small\"\n                                            onClick={() => moveColumn(index, 'down')}\n                                            disabled={index === availableColumns.length - 1}\n                                        >\n                                            <ArrowDownwardIcon fontSize=\"small\" />\n                                        </IconButton>\n                                    </Box>\n                                </Box>\n                            </ColumnListItem>\n                        ))}\n                    </Box>\n                </DialogContent>\n                <DialogActions>\n                    <Button \n                        onClick={resetColumnSettings}\n                        color=\"secondary\"\n                    >\n                        Tilbakestill\n                    </Button>\n                    <Button onClick={() => setShowColumnDialog(false)}>\n                        Lukk\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </Container>\n    );\n};\n\nexport default CourseComparison; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,qBAAqB,QAAQ,sBAAsB;AAC5D,SAASC,iBAAiB,EAAEC,0BAA0B,QAAQ,oBAAoB;AAClF,SAASC,kBAAkB,QAAQ,wBAAwB;AAC3D,SACIC,GAAG,EACHC,MAAM,EACNC,gBAAgB,EAChBC,SAAS,EACTC,SAAS,EACTC,UAAU,EACVC,KAAK,EACLC,SAAS,EACTC,SAAS,EACTC,cAAc,EACdC,SAAS,EACTC,QAAQ,EACRC,KAAK,EACLC,IAAI,EACJC,OAAO,EACPC,UAAU,EACVC,eAAe,EACfC,KAAK,EACLC,cAAc,EACdC,QAAQ,EACRC,IAAI,EACJC,IAAI,EACJC,MAAM,EACNC,WAAW,EACXC,aAAa,EACbC,aAAa,EACbC,MAAM,EACNC,WAAW,EACXC,UAAU,EACVC,MAAM,EACNC,QAAQ,EACRC,MAAM,EACNC,IAAI,QACD,eAAe;AACtB,OAAOC,MAAM,MAAM,iBAAiB;AACpC,OAAOC,qBAAqB,MAAM,uCAAuC;AACzE,OAAOC,mBAAmB,MAAM,qCAAqC;AACrE,OAAOC,QAAQ,MAAM,0BAA0B;AAC/C,OAAOC,cAAc,MAAM,gCAAgC;AAC3D,OAAOC,UAAU,MAAM,4BAA4B;AACnD,OAAOC,YAAY,MAAM,8BAA8B;AACvD,OAAOC,iBAAiB,MAAM,mCAAmC;AACjE,OAAOC,eAAe,MAAM,iCAAiC;AAC7D,OAAOC,iBAAiB,MAAM,mCAAmC;AACjE,SAASC,KAAK,QAAQ,sBAAsB;AAC5C,OAAOC,IAAI,MAAM,WAAW;AAC5B,SAASC,eAAe,EAAEC,SAAS,EAAEC,SAAS,QAAQ,qBAAqB;AAC3E,OAAOC,aAAa,MAAM,+BAA+B;AACzD,OAAOC,SAAS,MAAM,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,MAAMC,gBAAgB,GAAG,EAAE;AAC3B,MAAMC,gBAAgB,GAAG,IAAI;AAC7B,MAAMC,mBAAmB,GAAG,yBAAyB;AAErD,MAAMC,aAAa,GAAIC,IAAI,IAAK;EAC5B,IAAI,CAACA,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE,OAAO,KAAK;EACnD,MAAMC,OAAO,GAAGD,IAAI,CAACE,IAAI,CAAC,CAAC;EAC3B,OAAOD,OAAO,CAACE,MAAM,IAAIP,gBAAgB,IAAIK,OAAO,CAACE,MAAM,IAAIN,gBAAgB;AACnF,CAAC;;AAED;AACA,MAAMO,UAAU,GAAG3B,MAAM,CAACrB,KAAK,CAAC,CAAC,CAAC;EAAEiD;AAAM,CAAC,MAAM;EAC7CC,YAAY,EAAE,MAAM;EACpBC,OAAO,EAAEF,KAAK,CAACG,OAAO,CAAC,CAAC,CAAC;EACzBC,UAAU,EAAEJ,KAAK,CAACK,OAAO,CAACC,IAAI,KAAK,MAAM,GACnC,2CAA2C,GAC3C,2CAA2C;EACjDC,SAAS,EAAEP,KAAK,CAACK,OAAO,CAACC,IAAI,KAAK,MAAM,GAClC,+BAA+B,GAC/B,gCAAgC;EACtCE,UAAU,EAAE,qBAAqB;EACjC,SAAS,EAAE;IACPC,SAAS,EAAE;EACf;AACJ,CAAC,CAAC,CAAC;AAACC,EAAA,GAbEX,UAAU;AAehB,MAAMY,cAAc,GAAGvC,MAAM,CAAChC,MAAM,CAAC,CAAC,CAAC;EAAE4D;AAAM,CAAC,MAAM;EAClDC,YAAY,EAAE,MAAM;EACpBC,OAAO,EAAE,WAAW;EACpBM,UAAU,EAAE,eAAe;EAC3BI,UAAU,EAAE,GAAG;EACfC,aAAa,EAAE,MAAM;EACrB,SAAS,EAAE;IACPJ,SAAS,EAAE,kBAAkB;IAC7BF,SAAS,EAAE;EACf;AACJ,CAAC,CAAC,CAAC;AAACO,GAAA,GAVEH,cAAc;AAYpB,MAAMI,eAAe,GAAG3C,MAAM,CAACzB,SAAS,CAAC,CAAC,CAAC;EAAEqD;AAAM,CAAC,MAAM;EACtD,qBAAqB,EAAE;IACnBgB,eAAe,EAAE,aAAa;IAC9BC,KAAK,EAAEjB,KAAK,CAACK,OAAO,CAACV,IAAI,CAACuB,OAAO;IACjCN,UAAU,EAAE,GAAG;IACfO,QAAQ,EAAE,SAAS;IACnBC,YAAY,EAAE,aAAatC,KAAK,CAACkB,KAAK,CAACK,OAAO,CAACa,OAAO,CAACG,IAAI,EAAE,GAAG,CAAC;EACrE,CAAC;EACD,qBAAqB,EAAE;IACnBF,QAAQ,EAAE,QAAQ;IAClBC,YAAY,EAAE,aAAatC,KAAK,CAACkB,KAAK,CAACK,OAAO,CAACiB,OAAO,EAAE,GAAG,CAAC;EAChE;AACJ,CAAC,CAAC,CAAC;AAACC,GAAA,GAZER,eAAe;AAcrB,MAAMS,cAAc,GAAGpD,MAAM,CAACtB,QAAQ,CAAC,CAAC,CAAC;EAAEkD;AAAM,CAAC,MAAM;EACpDQ,UAAU,EAAE,eAAe;EAC3B,SAAS,EAAE;IACPQ,eAAe,EAAElC,KAAK,CAACkB,KAAK,CAACK,OAAO,CAACa,OAAO,CAACG,IAAI,EAAE,IAAI,CAAC;IACxD,oBAAoB,EAAE;MAClBI,OAAO,EAAE,CAAC;MACVC,MAAM,EAAE,MAAM;MACdxB,OAAO,EAAEF,KAAK,CAACG,OAAO,CAAC,CAAC;IAC5B;EACJ;AACJ,CAAC,CAAC,CAAC;AAACwB,GAAA,GAVEH,cAAc;AAYpB,MAAMI,iBAAiB,GAAGxD,MAAM,CAAChC,MAAM,CAAC,CAAC,CAAC;EAAE4D;AAAM,CAAC,MAAM;EACrD6B,QAAQ,EAAE,MAAM;EAChB3B,OAAO,EAAE,UAAU;EACnBM,UAAU,EAAE,eAAe;EAC3BQ,eAAe,EAAElC,KAAK,CAACkB,KAAK,CAACK,OAAO,CAACa,OAAO,CAACG,IAAI,EAAErB,KAAK,CAACK,OAAO,CAACC,IAAI,KAAK,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;EAC7FW,KAAK,EAAEjB,KAAK,CAACK,OAAO,CAACa,OAAO,CAACG,IAAI;EACjC,SAAS,EAAE;IACPL,eAAe,EAAElC,KAAK,CAACkB,KAAK,CAACK,OAAO,CAACa,OAAO,CAACG,IAAI,EAAErB,KAAK,CAACK,OAAO,CAACC,IAAI,KAAK,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;IAC7FG,SAAS,EAAE;EACf,CAAC;EACD,gBAAgB,EAAE;IACdO,eAAe,EAAElC,KAAK,CAACkB,KAAK,CAACK,OAAO,CAACyB,MAAM,CAACC,QAAQ,EAAE/B,KAAK,CAACK,OAAO,CAACC,IAAI,KAAK,MAAM,GAAG,GAAG,GAAG,GAAG;EACnG;AACJ,CAAC,CAAC,CAAC;AAEH,MAAM0B,cAAc,GAAG5D,MAAM,CAACjC,GAAG,CAAC,CAAC,CAAC;EAAE6D;AAAM,CAAC,MAAM;EAC/CyB,OAAO,EAAE,CAAC;EACVC,MAAM,EAAE,CAAC;EACTO,QAAQ,EAAE,QAAQ;EAClBzB,UAAU,EAAE,eAAe;EAC3BQ,eAAe,EAAElC,KAAK,CAClBkB,KAAK,CAACK,OAAO,CAACa,OAAO,CAACG,IAAI,EAC1BrB,KAAK,CAACK,OAAO,CAACC,IAAI,KAAK,MAAM,GAAG,IAAI,GAAG,IAC3C,CAAC;EACDL,YAAY,EAAED,KAAK,CAACG,OAAO,CAAC,CAAC,CAAC;EAC9B+B,MAAM,EAAElC,KAAK,CAACG,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;EAC3BD,OAAO,EAAE,CAAC;EACV,WAAW,EAAE;IACTuB,OAAO,EAAE,CAAC;IACVC,MAAM,EAAE,MAAM;IACdxB,OAAO,EAAEF,KAAK,CAACG,OAAO,CAAC,CAAC;EAC5B;AACJ,CAAC,CAAC,CAAC;AAACgC,GAAA,GAjBEH,cAAc;AAmBpB,MAAMI,eAAe,GAAGhE,MAAM,CAACjC,GAAG,CAAC,CAAC,CAAC;EAAE6D,KAAK;EAAEqC;AAAW,CAAC,MAAM;EAC5DC,OAAO,EAAE,aAAa;EACtBC,UAAU,EAAE,QAAQ;EACpBrC,OAAO,EAAE,UAAU;EACnBD,YAAY,EAAE,MAAM;EACpBW,UAAU,EAAE,GAAG;EACfO,QAAQ,EAAE,SAAS;EACnBH,eAAe,EAAEqB,UAAU,IAAI,EAAE,GAC3BvD,KAAK,CAACkB,KAAK,CAACK,OAAO,CAACmC,OAAO,CAACnB,IAAI,EAAErB,KAAK,CAACK,OAAO,CAACC,IAAI,KAAK,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,GAC5E+B,UAAU,IAAI,EAAE,GACZvD,KAAK,CAACkB,KAAK,CAACK,OAAO,CAACoC,OAAO,CAACpB,IAAI,EAAErB,KAAK,CAACK,OAAO,CAACC,IAAI,KAAK,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,GAC5ExB,KAAK,CAACkB,KAAK,CAACK,OAAO,CAACqC,KAAK,CAACrB,IAAI,EAAErB,KAAK,CAACK,OAAO,CAACC,IAAI,KAAK,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;EACpFW,KAAK,EAAEjB,KAAK,CAACK,OAAO,CAACC,IAAI,KAAK,MAAM,GAC9B+B,UAAU,IAAI,EAAE,GACZrC,KAAK,CAACK,OAAO,CAACmC,OAAO,CAACG,KAAK,GAC3BN,UAAU,IAAI,EAAE,GACZrC,KAAK,CAACK,OAAO,CAACoC,OAAO,CAACE,KAAK,GAC3B3C,KAAK,CAACK,OAAO,CAACqC,KAAK,CAACC,KAAK,GACjCN,UAAU,IAAI,EAAE,GACZrC,KAAK,CAACK,OAAO,CAACmC,OAAO,CAACI,IAAI,GAC1BP,UAAU,IAAI,EAAE,GACZrC,KAAK,CAACK,OAAO,CAACoC,OAAO,CAACG,IAAI,GAC1B5C,KAAK,CAACK,OAAO,CAACqC,KAAK,CAACE;AACtC,CAAC,CAAC,CAAC;AAACC,GAAA,GAvBET,eAAe;AAyBrB,MAAMU,UAAU,GAAG1E,MAAM,CAACjC,GAAG,CAAC,CAAC,CAAC;EAAE6D,KAAK;EAAE+C;AAAO,CAAC,MAAM;EACnDT,OAAO,EAAE,aAAa;EACtBC,UAAU,EAAE,QAAQ;EACpBrC,OAAO,EAAE,UAAU;EACnBD,YAAY,EAAE,MAAM;EACpBkB,QAAQ,EAAE,QAAQ;EAClB6B,MAAM,EAAE,SAAS;EACjBhC,eAAe,EAAE+B,MAAM,GACjB/C,KAAK,CAACK,OAAO,CAACa,OAAO,CAACG,IAAI,GAC1BrB,KAAK,CAACK,OAAO,CAACC,IAAI,KAAK,MAAM,GAAGxB,KAAK,CAACkB,KAAK,CAACK,OAAO,CAACa,OAAO,CAACG,IAAI,EAAE,GAAG,CAAC,GAAG,aAAa;EAC5FJ,KAAK,EAAE8B,MAAM,GACP/C,KAAK,CAACK,OAAO,CAACC,IAAI,KAAK,MAAM,GAAGN,KAAK,CAACK,OAAO,CAAC4C,MAAM,CAACC,KAAK,GAAGlD,KAAK,CAACK,OAAO,CAAC4C,MAAM,CAACE,KAAK,GACvFnD,KAAK,CAACK,OAAO,CAACV,IAAI,CAACuB,OAAO;EAChCkC,MAAM,EAAE,aAAaL,MAAM,GAAG/C,KAAK,CAACK,OAAO,CAACa,OAAO,CAACG,IAAI,GAAGrB,KAAK,CAACK,OAAO,CAACiB,OAAO,EAAE;EAClFd,UAAU,EAAE,eAAe;EAC3B,SAAS,EAAE;IACPQ,eAAe,EAAE+B,MAAM,GACjB/C,KAAK,CAACK,OAAO,CAACa,OAAO,CAAC0B,IAAI,GAC1B9D,KAAK,CAACkB,KAAK,CAACK,OAAO,CAACa,OAAO,CAACG,IAAI,EAAErB,KAAK,CAACK,OAAO,CAACC,IAAI,KAAK,MAAM,GAAG,GAAG,GAAG,IAAI;EACtF;AACJ,CAAC,CAAC,CAAC;AAEH,MAAM+C,YAAY,GAAGA,CAAC;EAAEX,KAAK;EAAEY;AAAQ,CAAC,kBACpChE,OAAA,CAACnD,GAAG;EAACoH,EAAE,EAAE;IAAEC,SAAS,EAAE,QAAQ;IAAEC,CAAC,EAAE;EAAE,CAAE;EAAAC,QAAA,gBACnCpE,OAAA,CAAC9C,UAAU;IAACyE,KAAK,EAAC,OAAO;IAAC0C,YAAY;IAAAD,QAAA,EACjChB;EAAK;IAAAkB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC,eACbzE,OAAA,CAAClD,MAAM;IAAC4H,OAAO,EAAEV,OAAQ;IAACW,OAAO,EAAC,WAAW;IAACV,EAAE,EAAE;MAAEW,EAAE,EAAE;IAAE,CAAE;IAAAR,QAAA,EAAC;EAE7D;IAAAE,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAQ,CAAC;AAAA;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACR,CACR;AAACI,GAAA,GATId,YAAY;AAWlB,MAAMe,gBAAgB,GAAGA,CAAC;EAAEC;AAAO,CAAC,kBAChC/E,OAAA,CAAC9B,IAAI;EAAC+F,EAAE,EAAE;IAAEe,EAAE,EAAE,CAAC;IAAEb,CAAC,EAAE;EAAE,CAAE;EAAAC,QAAA,gBACtBpE,OAAA,CAAC9C,UAAU;IAACyH,OAAO,EAAC,IAAI;IAAAP,QAAA,EAAEW,MAAM,CAACE;EAAQ;IAAAX,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAa,CAAC,eACvDzE,OAAA,CAAC9C,UAAU;IAACyH,OAAO,EAAC,OAAO;IAAChD,KAAK,EAAC,eAAe;IAAC0C,YAAY;IAAAD,QAAA,EACzDW,MAAM,CAACG;EAAQ;IAAAZ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC,eACbzE,OAAA,CAACnD,GAAG;IAACoH,EAAE,EAAE;MAAEjB,OAAO,EAAE,MAAM;MAAEmC,cAAc,EAAE,eAAe;MAAEP,EAAE,EAAE;IAAE,CAAE;IAAAR,QAAA,gBACjEpE,OAAA,CAAC9C,UAAU;MAAAkH,QAAA,GAAC,UAAQ,EAACW,MAAM,CAAChC,UAAU,EAAC,GAAC;IAAA;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,eACrDzE,OAAA,CAAC9C,UAAU;MAAAkH,QAAA,GAAEW,MAAM,CAACK,OAAO,EAAC,MAAI;IAAA;MAAAd,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5C,CAAC;AAAA;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACJ,CACT;;AAED;AAAAY,GAAA,GAbMP,gBAAgB;AActB,MAAMQ,aAAa,GAAIF,OAAO,IAAK;EAC/B,IAAI,CAACA,OAAO,EAAE,OAAO,EAAE;EACvB;EACA,QAAQA,OAAO;IACX,KAAK,EAAE;MACH,OAAO,KAAK;IAChB,KAAK,EAAE;MACH,OAAO,KAAK;IAChB;MACI,OAAOA,OAAO,CAACG,QAAQ,CAAC,CAAC;EACjC;AACJ,CAAC;AAED,MAAMC,cAAc,GAAG1G,MAAM,CAACjC,GAAG,CAAC,CAAC,CAAC;EAAE6D;AAAM,CAAC,MAAM;EAC/CsC,OAAO,EAAE,MAAM;EACfC,UAAU,EAAE,QAAQ;EACpBrC,OAAO,EAAEF,KAAK,CAACG,OAAO,CAAC,CAAC,CAAC;EACzB4E,YAAY,EAAE/E,KAAK,CAACG,OAAO,CAAC,CAAC,CAAC;EAC9Ba,eAAe,EAAEhB,KAAK,CAACK,OAAO,CAACD,UAAU,CAAC4E,KAAK;EAC/C/E,YAAY,EAAED,KAAK,CAACiF,KAAK,CAAChF,YAAY;EACtCmD,MAAM,EAAE,aAAapD,KAAK,CAACK,OAAO,CAACiB,OAAO,EAAE;EAC5C,SAAS,EAAE;IACPN,eAAe,EAAEhB,KAAK,CAACK,OAAO,CAACyB,MAAM,CAACoD;EAC1C;AACJ,CAAC,CAAC,CAAC;AAACC,GAAA,GAXEL,cAAc;AAapB,MAAMM,aAAa,GAAGhH,MAAM,CAACjC,GAAG,CAAC,CAAC,CAAC;EAAE6D;AAAM,CAAC,MAAM;EAC9CE,OAAO,EAAEF,KAAK,CAACG,OAAO,CAAC,CAAC,CAAC;EACzBF,YAAY,EAAED,KAAK,CAACiF,KAAK,CAAChF,YAAY;EACtCe,eAAe,EAAEhB,KAAK,CAACK,OAAO,CAACD,UAAU,CAAC4E,KAAK;EAC/CD,YAAY,EAAE/E,KAAK,CAACG,OAAO,CAAC,CAAC,CAAC;EAC9BiD,MAAM,EAAE,aAAapD,KAAK,CAACK,OAAO,CAACiB,OAAO;AAC9C,CAAC,CAAC,CAAC;AAAC+D,IAAA,GANED,aAAa;AAQnB,MAAME,SAAS,GAAGA,CAAC;EAAEC,OAAO;EAAEC,UAAU;EAAEC;AAAiB,CAAC,KAAK;EAC7D,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;IAC7BF,UAAU,CAAC;MACPG,UAAU,EAAE,EAAE;MACdC,eAAe,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;MACzBC,UAAU,EAAE,KAAK;MACjBC,QAAQ,EAAE,KAAK;MACfpB,OAAO,EAAE;IACb,CAAC,CAAC;EACN,CAAC;EAED,MAAMqB,iBAAiB,GAAGC,MAAM,CAACC,MAAM,CAACV,OAAO,CAAC,CAACW,MAAM,CAACC,KAAK,IACzDA,KAAK,KAAK,KAAK,IAAIA,KAAK,KAAK,EAAE,IAC/B,EAAEC,KAAK,CAACC,OAAO,CAACF,KAAK,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,CAChE,CAAC,CAACrG,MAAM;EAER,oBACIR,OAAA,CAAC8F,aAAa;IAAA1B,QAAA,gBACVpE,OAAA,CAACnD,GAAG;MAACoH,EAAE,EAAE;QAAEjB,OAAO,EAAE,MAAM;QAAEmC,cAAc,EAAE,eAAe;QAAElC,UAAU,EAAE,QAAQ;QAAE+B,EAAE,EAAE;MAAE,CAAE;MAAAZ,QAAA,gBACvFpE,OAAA,CAAC9C,UAAU;QAACyH,OAAO,EAAC,WAAW;QAACV,EAAE,EAAE;UAAEjB,OAAO,EAAE,MAAM;UAAEC,UAAU,EAAE,QAAQ;UAAE+D,GAAG,EAAE;QAAE,CAAE;QAAA5C,QAAA,gBAClFpE,OAAA,CAACH,aAAa;UAAAyE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,iBAEjB,EAACgC,iBAAiB,GAAG,CAAC,iBAClBzG,OAAA,CAACnB,IAAI;UACDoI,KAAK,EAAER,iBAAkB;UACzBS,IAAI,EAAC,OAAO;UACZvF,KAAK,EAAC;QAAS;UAAA2C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClB,CACJ;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACO,CAAC,EACZgC,iBAAiB,GAAG,CAAC,iBAClBzG,OAAA,CAAClD,MAAM;QACHqK,SAAS,eAAEnH,OAAA,CAACF,SAAS;UAAAwE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAE;QACzBC,OAAO,EAAE0B,kBAAmB;QAC5Bc,IAAI,EAAC,OAAO;QAAA9C,QAAA,EACf;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CACX;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAENzE,OAAA,CAAC/B,IAAI;MAACmJ,SAAS;MAACvG,OAAO,EAAE,CAAE;MAAAuD,QAAA,gBACvBpE,OAAA,CAAC/B,IAAI;QAACoJ,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAAApD,QAAA,eAC5BpE,OAAA,CAACxB,WAAW;UAACiJ,SAAS;UAACP,IAAI,EAAC,OAAO;UAAA9C,QAAA,gBAC/BpE,OAAA,CAACvB,UAAU;YAAA2F,QAAA,EAAC;UAAU;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eACnCzE,OAAA,CAACtB,MAAM;YACHmI,KAAK,EAAEZ,OAAO,CAACM,UAAW;YAC1BmB,QAAQ,EAAGC,CAAC,IAAKzB,UAAU,CAAC;cAAE,GAAGD,OAAO;cAAEM,UAAU,EAAEoB,CAAC,CAACC,MAAM,CAACf;YAAM,CAAC,CAAE;YACxEI,KAAK,EAAC,eAAY;YAAA7C,QAAA,gBAElBpE,OAAA,CAACrB,QAAQ;cAACkI,KAAK,EAAC,KAAK;cAAAzC,QAAA,EAAC;YAAW;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAU,CAAC,EAC3C0B,gBAAgB,CAAC0B,WAAW,CAACC,GAAG,CAACC,KAAK,iBACnC/H,OAAA,CAACrB,QAAQ;cAAakI,KAAK,EAAEkB,KAAM;cAAA3D,QAAA,EAC9B2D;YAAK,GADKA,KAAK;cAAAzD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEV,CACb,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ,CAAC,eAEPzE,OAAA,CAAC/B,IAAI;QAACoJ,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAAApD,QAAA,eAC5BpE,OAAA,CAACxB,WAAW;UAACiJ,SAAS;UAACP,IAAI,EAAC,OAAO;UAAA9C,QAAA,gBAC/BpE,OAAA,CAACvB,UAAU;YAAA2F,QAAA,EAAC;UAAK;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eAC9BzE,OAAA,CAACtB,MAAM;YACHmI,KAAK,EAAEZ,OAAO,CAACO,QAAS;YACxBkB,QAAQ,EAAGC,CAAC,IAAKzB,UAAU,CAAC;cAAE,GAAGD,OAAO;cAAEO,QAAQ,EAAEmB,CAAC,CAACC,MAAM,CAACf;YAAM,CAAC,CAAE;YACtEI,KAAK,EAAC,UAAO;YAAA7C,QAAA,gBAEbpE,OAAA,CAACrB,QAAQ;cAACkI,KAAK,EAAC,KAAK;cAAAzC,QAAA,EAAC;YAAU;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAU,CAAC,EAC1C0B,gBAAgB,CAAC6B,SAAS,CAACF,GAAG,CAACG,IAAI,iBAChCjI,OAAA,CAACrB,QAAQ;cAAYkI,KAAK,EAAEoB,IAAK;cAAA7D,QAAA,EAC5B6D;YAAI,GADMA,IAAI;cAAA3D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAET,CACb,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ,CAAC,eAEPzE,OAAA,CAAC/B,IAAI;QAACoJ,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAAApD,QAAA,eAC5BpE,OAAA,CAACxB,WAAW;UAACiJ,SAAS;UAACP,IAAI,EAAC,OAAO;UAAA9C,QAAA,gBAC/BpE,OAAA,CAACvB,UAAU;YAAA2F,QAAA,EAAC;UAAW;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eACpCzE,OAAA,CAACtB,MAAM;YACHmI,KAAK,EAAEZ,OAAO,CAACb,OAAQ;YACvBsC,QAAQ,EAAGC,CAAC,IAAKzB,UAAU,CAAC;cAAE,GAAGD,OAAO;cAAEb,OAAO,EAAEuC,CAAC,CAACC,MAAM,CAACf;YAAM,CAAC,CAAE;YACrEI,KAAK,EAAC,aAAa;YAAA7C,QAAA,gBAEnBpE,OAAA,CAACrB,QAAQ;cAACkI,KAAK,EAAC,KAAK;cAAAzC,QAAA,EAAC;YAAI;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAU,CAAC,EACpC0B,gBAAgB,CAAC+B,aAAa,CAACJ,GAAG,CAACK,MAAM,iBACtCnI,OAAA,CAACrB,QAAQ;cAAckI,KAAK,EAAEsB,MAAO;cAAA/D,QAAA,GAChCkB,aAAa,CAAC6C,MAAM,CAAC,EAAC,MAC3B;YAAA,GAFeA,MAAM;cAAA7D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEX,CACb,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ,CAAC,eAEPzE,OAAA,CAAC/B,IAAI;QAACoJ,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAAApD,QAAA,gBAC5BpE,OAAA,CAAC9C,UAAU;UAACmH,YAAY;UAAAD,QAAA,GAAC,UACb,EAAC6B,OAAO,CAACK,eAAe,CAAC,CAAC,CAAC,EAAC,MAAI,EAACL,OAAO,CAACK,eAAe,CAAC,CAAC,CAAC,EAAC,GACxE;QAAA;UAAAhC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY,CAAC,eACbzE,OAAA,CAACpB,MAAM;UACHiI,KAAK,EAAEZ,OAAO,CAACK,eAAgB;UAC/BoB,QAAQ,EAAEA,CAACC,CAAC,EAAES,QAAQ,KAAKlC,UAAU,CAAC;YAAE,GAAGD,OAAO;YAAEK,eAAe,EAAE8B;UAAS,CAAC,CAAE;UACjFC,iBAAiB,EAAC,MAAM;UACxBC,GAAG,EAAE,CAAE;UACPC,GAAG,EAAE;QAAI;UAAAjE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACI,CAAC;AAExB,CAAC;AAAC+D,IAAA,GA/GIxC,SAAS;AAiHf,MAAMyC,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGrM,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACsM,OAAO,EAAEC,UAAU,CAAC,GAAGvM,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC6G,KAAK,EAAE2F,QAAQ,CAAC,GAAGxM,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACyM,mBAAmB,EAAEC,sBAAsB,CAAC,GAAG1M,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClE,MAAM,CAAC2M,IAAI,EAAEC,OAAO,CAAC,GAAG5M,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM,CAAC6M,WAAW,EAAEC,cAAc,CAAC,GAAG9M,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC+M,QAAQ,EAAEC,WAAW,CAAC,GAAGhN,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACiN,QAAQ,EAAEC,WAAW,CAAC,GAAGlN,QAAQ,CAAC;IACrCmN,UAAU,EAAE,EAAE;IACdC,iBAAiB,EAAE,EAAE;IACrBC,gBAAgB,EAAE;EACtB,CAAC,CAAC;EACF,MAAM,CAACvD,UAAU,EAAEwD,aAAa,CAAC,GAAGtN,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACuN,WAAW,EAAEC,cAAc,CAAC,GAAGxN,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACyN,oBAAoB,EAAEC,uBAAuB,CAAC,GAAG1N,QAAQ,CAAC,CAAC,CAAC,CAAC;EACpE,MAAM,CAAC0J,OAAO,EAAEC,UAAU,CAAC,GAAG3J,QAAQ,CAAC;IACnC8J,UAAU,EAAE,EAAE;IACdC,eAAe,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;IACzBC,UAAU,EAAE,KAAK;IACjBC,QAAQ,EAAE,KAAK;IACfpB,OAAO,EAAE;EACb,CAAC,CAAC;EAEF,MAAM,CAACe,gBAAgB,EAAE+D,mBAAmB,CAAC,GAAG3N,QAAQ,CAAC;IACrDsL,WAAW,EAAE,EAAE;IACfG,SAAS,EAAE,EAAE;IACbE,aAAa,EAAE;EACnB,CAAC,CAAC;EAEF,MAAM,CAACiC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG7N,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM8N,cAAc,GAAG,CACnB;IAAEC,EAAE,EAAE,cAAc;IAAErD,KAAK,EAAE,MAAM;IAAEsD,OAAO,EAAE,IAAI;IAAEC,QAAQ,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAW,CAAC,EACvF;IAAEH,EAAE,EAAE,cAAc;IAAErD,KAAK,EAAE,UAAU;IAAEsD,OAAO,EAAE,IAAI;IAAEE,KAAK,EAAE;EAAW,CAAC,EAC3E;IAAEH,EAAE,EAAE,WAAW;IAAErD,KAAK,EAAE,kBAAkB;IAAEsD,OAAO,EAAE,KAAK;IAAEE,KAAK,EAAE;EAAQ,CAAC,EAC9E;IAAEH,EAAE,EAAE,cAAc;IAAErD,KAAK,EAAE,UAAU;IAAEsD,OAAO,EAAE,KAAK;IAAEE,KAAK,EAAE;EAAW,CAAC,EAC5E;IAAEH,EAAE,EAAE,0BAA0B;IAAErD,KAAK,EAAE,sBAAsB;IAAEsD,OAAO,EAAE,KAAK;IAAEE,KAAK,EAAE;EAAuB,CAAC,EAChH;IAAEH,EAAE,EAAE,aAAa;IAAErD,KAAK,EAAE,aAAa;IAAEsD,OAAO,EAAE,IAAI;IAAEE,KAAK,EAAE;EAAU,CAAC,EAC5E;IAAEH,EAAE,EAAE,eAAe;IAAErD,KAAK,EAAE,WAAW;IAAEsD,OAAO,EAAE,IAAI;IAAEE,KAAK,EAAE;EAAY,CAAC,EAC9E;IAAEH,EAAE,EAAE,eAAe;IAAErD,KAAK,EAAE,WAAW;IAAEsD,OAAO,EAAE,KAAK;IAAEE,KAAK,EAAE;EAAsB,CAAC,EACzF;IAAEH,EAAE,EAAE,YAAY;IAAErD,KAAK,EAAE,mBAAmB;IAAEsD,OAAO,EAAE,IAAI;IAAEE,KAAK,EAAE;EAAmB,CAAC,EAC1F;IAAEH,EAAE,EAAE,WAAW;IAAErD,KAAK,EAAE,MAAM;IAAEsD,OAAO,EAAE,IAAI;IAAEE,KAAK,EAAE;EAAiB,CAAC,EAC1E;IAAEH,EAAE,EAAE,YAAY;IAAErD,KAAK,EAAE,QAAQ;IAAEsD,OAAO,EAAE,KAAK;IAAEE,KAAK,EAAE;EAAS,CAAC,EACtE;IAAEH,EAAE,EAAE,gBAAgB;IAAErD,KAAK,EAAE,QAAQ;IAAEsD,OAAO,EAAE,IAAI;IAAEC,QAAQ,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAa,CAAC,EAC7F;IAAEH,EAAE,EAAE,QAAQ;IAAErD,KAAK,EAAE,YAAY;IAAEsD,OAAO,EAAE,IAAI;IAAEC,QAAQ,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAa,CAAC,CAC5F;EAED,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGpO,QAAQ,CAAC,MAAM;IAC3D,MAAMqO,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC3K,mBAAmB,CAAC;IAC9D,IAAIyK,YAAY,EAAE;MACd,OAAOG,IAAI,CAACC,KAAK,CAACJ,YAAY,CAAC;IACnC;IACA,OAAOP,cAAc;EACzB,CAAC,CAAC;;EAEF;EACA,MAAMY,gBAAgB,GAAGA,CAACC,KAAK,EAAEC,OAAO,KAAK;IACzChC,OAAO,CAACgC,OAAO,CAAC;EACpB,CAAC;;EAED;EACA,MAAMC,uBAAuB,GAAIF,KAAK,IAAK;IACvC7B,cAAc,CAACgC,QAAQ,CAACH,KAAK,CAACtD,MAAM,CAACf,KAAK,EAAE,EAAE,CAAC,CAAC;IAChDsC,OAAO,CAAC,CAAC,CAAC;EACd,CAAC;EAED,MAAMmC,iBAAiB,GAAI3D,CAAC,IAAK;IAC7B,MAAM;MAAE4D,IAAI;MAAE1E;IAAM,CAAC,GAAGc,CAAC,CAACC,MAAM;IAChC6B,WAAW,CAAC+B,IAAI,KAAK;MACjB,GAAGA,IAAI;MACP,CAACD,IAAI,GAAG1E;IACZ,CAAC,CAAC,CAAC;EACP,CAAC;EAED,MAAM4E,yBAAyB,GAAG,MAAAA,CAAO1G,MAAM,EAAE2G,UAAU,KAAK;IAC5DC,OAAO,CAACC,GAAG,CAAC,sCAAsC,EAAE;MAChDC,UAAU,EAAE9G,MAAM,CAACE,QAAQ;MAC3B6G,SAAS,EAAE;QACPP,IAAI,EAAE/B,QAAQ,CAACE,UAAU;QACzBqC,OAAO,EAAEL;MACb,CAAC;MACD3I,UAAU,EAAEgC,MAAM,CAAChC;IACvB,CAAC,CAAC;IAEFkG,sBAAsB,CAACuC,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACzG,MAAM,CAACE,QAAQ,GAAG;IAAK,CAAC,CAAC,CAAC;IAEtE,IAAI;MACA0G,OAAO,CAACC,GAAG,CAAC,0CAA0C,EAAE;QACpDI,WAAW,EAAE;UACTT,IAAI,EAAE/B,QAAQ,CAACE,UAAU;UACzBqC,OAAO,EAAEL;QACb,CAAC;QACDO,YAAY,EAAElH,MAAM;QACpBhC,UAAU,EAAEgC,MAAM,CAAChC;MACvB,CAAC,CAAC;MAEF,MAAMmJ,WAAW,GAAG,MAAMvP,0BAA0B,CAChD;QACI4O,IAAI,EAAE/B,QAAQ,CAACE,UAAU;QACzBqC,OAAO,EAAEL;MACb,CAAC,EACD3G,MAAM,EACNA,MAAM,CAAChC,UACX,CAAC;MAED4I,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEM,WAAW,CAAC;MAEjD,IAAI,CAACA,WAAW,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,8BAA8B,CAAC;MACnD;MAEArD,UAAU,CAACsD,WAAW,IAClBA,WAAW,CAACtE,GAAG,CAACuE,CAAC,IACbA,CAAC,CAACpH,QAAQ,KAAKF,MAAM,CAACE,QAAQ,GACxB;QAAE,GAAGoH,CAAC;QAAEH;MAAY,CAAC,GACrBG,CACV,CACJ,CAAC;IACL,CAAC,CAAC,OAAOC,GAAG,EAAE;MACVX,OAAO,CAACvI,KAAK,CAAC,+BAA+B,EAAEkJ,GAAG,CAAC;MACnDvD,QAAQ,CAAC,sCAAsChE,MAAM,CAACE,QAAQ,KAAKqH,GAAG,CAACC,OAAO,EAAE,CAAC;IACrF,CAAC,SAAS;MACN;MACAtD,sBAAsB,CAACuC,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAE,CAACzG,MAAM,CAACE,QAAQ,GAAG;MAAM,CAAC,CAAC,CAAC;IAC3E;EACJ,CAAC;EAED,MAAMuH,YAAY,GAAG,MAAO7E,CAAC,IAAK;IAC9BA,CAAC,CAAC8E,cAAc,CAAC,CAAC;IAClB7D,UAAU,CAAC,IAAI,CAAC;IAChBG,QAAQ,CAAC,IAAI,CAAC;IACdD,UAAU,CAAC,IAAI,CAAC;IAChBG,sBAAsB,CAAC,CAAC,CAAC,CAAC;IAE1B,IAAI;MACA;MACA,IAAI,CAAC7I,aAAa,CAACoJ,QAAQ,CAACE,UAAU,CAAC,EAAE;QACrC,MAAM,IAAIyC,KAAK,CAAC,oDAAoD,CAAC;MACzE;MACA,IAAI,CAAC/L,aAAa,CAACoJ,QAAQ,CAACG,iBAAiB,CAAC,EAAE;QAC5C,MAAM,IAAIwC,KAAK,CAAC,2DAA2D,CAAC;MAChF;MACA,IAAI3C,QAAQ,CAACI,gBAAgB,IAAI,CAACxJ,aAAa,CAACoJ,QAAQ,CAACI,gBAAgB,CAAC,EAAE;QACxE,MAAM,IAAIuC,KAAK,CAAC,sEAAsE,CAAC;MAC3F;;MAEA;MACA,MAAMT,UAAU,GAAG;AAC/B,+BAA+BlC,QAAQ,CAACE,UAAU,CAACnJ,IAAI,CAAC,CAAC;AACzD,sCAAsCiJ,QAAQ,CAACG,iBAAiB,CAACpJ,IAAI,CAAC,CAAC;AACvE,kBAAkBiJ,QAAQ,CAACI,gBAAgB,GAAG,sBAAsBJ,QAAQ,CAACI,gBAAgB,CAACrJ,IAAI,CAAC,CAAC,EAAE,GAAG,EAAE;AAC3G,aAAa,CAACA,IAAI,CAAC,CAAC;MAERoL,OAAO,CAACC,GAAG,CAAC,4CAA4C,EAAEF,UAAU,CAAClL,MAAM,CAAC;;MAE5E;MACA,MAAMkM,UAAU,GAAG,MAAMhQ,iBAAiB,CAACgP,UAAU,CAAC;MACtDC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE;QACjCe,eAAe,EAAED,UAAU,CAACE,SAAS,CAACpM,MAAM;QAC5CqM,aAAa,EAAEH,UAAU,CAACI,OAAO,CAACtM;MACtC,CAAC,CAAC;;MAEF;MACA,MAAMuM,aAAa,GAAG,MAAMtQ,qBAAqB,CAAC,CAAC;MACnD,IAAI,CAACsQ,aAAa,IAAIA,aAAa,CAACvM,MAAM,KAAK,CAAC,EAAE;QAC9C,MAAM,IAAI2L,KAAK,CAAC,4CAA4C,CAAC;MACjE;MACAR,OAAO,CAACC,GAAG,CAAC,WAAWmB,aAAa,CAACvM,MAAM,iBAAiB,CAAC;;MAE7D;MACA,MAAMwM,cAAc,GAAG,MAAMpQ,kBAAkB,CAAC8P,UAAU,CAACE,SAAS,EAAEG,aAAa,CAAC;MACpFpB,OAAO,CAACC,GAAG,CAAC,SAASoB,cAAc,CAACxM,MAAM,kBAAkB,CAAC;MAE7D,IAAIwM,cAAc,CAACxM,MAAM,KAAK,CAAC,EAAE;QAC7BsI,UAAU,CAAC,EAAE,CAAC;QACdC,QAAQ,CAAC,2EAA2E,CAAC;QACrF;MACJ;;MAEA;MACAD,UAAU,CAACkE,cAAc,CAAClF,GAAG,CAAC/C,MAAM,KAAK;QACrC,GAAGA,MAAM;QACTmH,WAAW,EAAE;MACjB,CAAC,CAAC,CAAC,CAAC;;MAEJ;MACA3C,WAAW,CAAC,KAAK,CAAC;IAEtB,CAAC,CAAC,OAAO+C,GAAG,EAAE;MACVX,OAAO,CAACvI,KAAK,CAAC,2BAA2B,EAAEkJ,GAAG,CAAC;MAC/CvD,QAAQ,CAAC;QACLwD,OAAO,EAAE,8BAA8B;QACvCU,OAAO,EAAEX,GAAG,CAACC,OAAO;QACpBW,IAAI,EAAEZ,GAAG,CAACf;MACd,CAAC,CAAC;MACFzC,UAAU,CAAC,IAAI,CAAC;IACpB,CAAC,SAAS;MACNF,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;EAED,MAAMuE,kBAAkB,GAAGA,CAAA,KAAM;IAC7B,OAAOtE,OAAO,CAACjC,MAAM,CAAC7B,MAAM,IAAI;MAC5B;MACA,MAAMqI,WAAW,GAAG,CAACnH,OAAO,CAACI,UAAU,IACnCtB,MAAM,CAACE,QAAQ,CAACoI,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACrH,OAAO,CAACI,UAAU,CAACgH,WAAW,CAAC,CAAC,CAAC,IACxEtI,MAAM,CAACG,QAAQ,CAACmI,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACrH,OAAO,CAACI,UAAU,CAACgH,WAAW,CAAC,CAAC,CAAC;;MAE5E;MACA,MAAME,eAAe,GAAGxI,MAAM,CAAChC,UAAU,IAAIkD,OAAO,CAACK,eAAe,CAAC,CAAC,CAAC,IACjDvB,MAAM,CAAChC,UAAU,IAAIkD,OAAO,CAACK,eAAe,CAAC,CAAC,CAAC;;MAErE;MACA,MAAMkH,UAAU,GAAGvH,OAAO,CAACM,UAAU,KAAK,KAAK,IAC9BxB,MAAM,CAAC0I,cAAc,KAAKxH,OAAO,CAACM,UAAU;;MAE7D;MACA,MAAMmH,aAAa,GAAGzH,OAAO,CAACO,QAAQ,KAAK,KAAK,IAC5BzB,MAAM,CAAC4I,KAAK,KAAK1H,OAAO,CAACO,QAAQ;;MAErD;MACA,MAAMoH,YAAY,GAAG3H,OAAO,CAACb,OAAO,KAAK,KAAK,IAC3BL,MAAM,CAACK,OAAO,KAAKa,OAAO,CAACb,OAAO;MAErD,OAAOgI,WAAW,IAAIG,eAAe,IAAIC,UAAU,IAC5CE,aAAa,IAAIE,YAAY;IACxC,CAAC,CAAC;EACN,CAAC;;EAED;EACA,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACrBtE,WAAW,CAAC,CAACD,QAAQ,CAAC;EAC1B,CAAC;EAED,MAAMwE,iBAAiB,GAAI/I,MAAM,IAAK;IAClC,IAAIA,MAAM,CAACmH,WAAW,EAAE;MACpB;MACAjC,uBAAuB,CAACuB,IAAI,KAAK;QAC7B,GAAGA,IAAI;QACP,CAACzG,MAAM,CAACE,QAAQ,GAAG,CAACuG,IAAI,CAACzG,MAAM,CAACE,QAAQ;MAC5C,CAAC,CAAC,CAAC;IACP,CAAC,MAAM;MACH;MACAwG,yBAAyB,CAAC1G,MAAM,EAAEyE,QAAQ,CAACG,iBAAiB,CAAC;MAC7DM,uBAAuB,CAACuB,IAAI,KAAK;QAC7B,GAAGA,IAAI;QACP,CAACzG,MAAM,CAACE,QAAQ,GAAG;MACvB,CAAC,CAAC,CAAC;IACP;EACJ,CAAC;;EAED;EACAzI,SAAS,CAAC,MAAM;IACZ,MAAMuR,cAAc,GAAIC,OAAO,IAAK;MAChC,MAAMC,MAAM,GAAG,IAAIC,GAAG,CAAC,CAAC;MACxB,MAAMC,KAAK,GAAG,IAAID,GAAG,CAAC,CAAC;MACvB,MAAM9I,OAAO,GAAG,IAAI8I,GAAG,CAAC,CAAC;MAEzBF,OAAO,CAACI,OAAO,CAACrJ,MAAM,IAAI;QACtB,IAAIA,MAAM,CAAC0I,cAAc,EAAEQ,MAAM,CAACI,GAAG,CAACtJ,MAAM,CAAC0I,cAAc,CAAC;QAC5D,IAAI1I,MAAM,CAAC4I,KAAK,EAAEQ,KAAK,CAACE,GAAG,CAACtJ,MAAM,CAAC4I,KAAK,CAAC;QACzC,IAAI5I,MAAM,CAACK,OAAO,EAAEA,OAAO,CAACiJ,GAAG,CAACtJ,MAAM,CAACK,OAAO,CAAC;MACnD,CAAC,CAAC;MAEF8E,mBAAmB,CAAC;QAChBrC,WAAW,EAAEf,KAAK,CAACwH,IAAI,CAACL,MAAM,CAAC,CAACM,IAAI,CAAC,CAAC;QACtCvG,SAAS,EAAElB,KAAK,CAACwH,IAAI,CAACH,KAAK,CAAC,CAACI,IAAI,CAAC,CAAC;QACnCrG,aAAa,EAAEpB,KAAK,CAACwH,IAAI,CAAClJ,OAAO,CAAC,CAACmJ,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC;MAC3D,CAAC,CAAC;IACN,CAAC;;IAED;IACA,IAAI5F,OAAO,IAAIA,OAAO,CAACrI,MAAM,GAAG,CAAC,EAAE;MAC/BuN,cAAc,CAAClF,OAAO,CAAC;IAC3B;EACJ,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEb,MAAM6F,aAAa,GAAGA,CAAA,KAAM;IACxB,MAAMC,UAAU,GAAG9F,OAAO,CAACf,GAAG,CAAC/C,MAAM;MAAA,IAAA6J,qBAAA,EAAAC,qBAAA,EAAAC,aAAA;MAAA,OAAK;QACtC,WAAW,EAAE/J,MAAM,CAACE,QAAQ;QAC5B,WAAW,EAAEF,MAAM,CAACG,QAAQ,CAAC6J,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;QAC9C,eAAe,GAAAH,qBAAA,GAAE7J,MAAM,CAACiK,aAAa,cAAAJ,qBAAA,uBAApBA,qBAAA,CAAsBG,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;QACxD,MAAM,GAAAF,qBAAA,GAAE9J,MAAM,CAAC0I,cAAc,cAAAoB,qBAAA,uBAArBA,qBAAA,CAAuBE,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;QAChD,aAAa,EAAEzJ,aAAa,CAACP,MAAM,CAACK,OAAO,CAAC;QAC5C,UAAU,EAAEL,MAAM,CAACkK,QAAQ;QAC3B,OAAO,GAAAH,aAAA,GAAE/J,MAAM,CAAC4I,KAAK,cAAAmB,aAAA,uBAAZA,aAAA,CAAcC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;QACxC,gBAAgB,EAAEhK,MAAM,CAACmK,SAAS;QAClC,WAAW,EAAEnK,MAAM,CAACoK,gBAAgB;QACpC,QAAQ,EAAE,GAAGpK,MAAM,CAAChC,UAAU;MAClC,CAAC;IAAA,CAAC,CAAC;IAEH,MAAMqM,GAAG,GAAG3P,IAAI,CAAC4P,OAAO,CAACV,UAAU,CAAC;IACpC,MAAMW,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACH,GAAG,CAAC,EAAE;MAAElC,IAAI,EAAE;IAA0B,CAAC,CAAC;IACjE,MAAMsC,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;IACxCF,IAAI,CAACG,IAAI,GAAGC,GAAG,CAACC,eAAe,CAACP,IAAI,CAAC;IACrCE,IAAI,CAACM,QAAQ,GAAG,4BAA4B;IAC5CN,IAAI,CAACO,KAAK,CAAC,CAAC;EAChB,CAAC;EAED,MAAMC,UAAU,GAAGA,CAACC,KAAK,EAAEC,SAAS,KAAK;IACrCvF,mBAAmB,CAACwF,WAAW,IAAI;MAC/B,MAAMC,UAAU,GAAG,CAAC,GAAGD,WAAW,CAAC;MACnC,MAAME,QAAQ,GAAGH,SAAS,KAAK,IAAI,GAAGD,KAAK,GAAG,CAAC,GAAGA,KAAK,GAAG,CAAC;MAE3D,IAAII,QAAQ,IAAI,CAAC,IAAIA,QAAQ,GAAGD,UAAU,CAAC5P,MAAM,EAAE;QAC/C,CAAC4P,UAAU,CAACH,KAAK,CAAC,EAAEG,UAAU,CAACC,QAAQ,CAAC,CAAC,GAAG,CAACD,UAAU,CAACC,QAAQ,CAAC,EAAED,UAAU,CAACH,KAAK,CAAC,CAAC;QACrFpF,YAAY,CAACyF,OAAO,CAACnQ,mBAAmB,EAAE4K,IAAI,CAACwF,SAAS,CAACH,UAAU,CAAC,CAAC;MACzE;MAEA,OAAOA,UAAU;IACrB,CAAC,CAAC;EACN,CAAC;EAED,MAAMI,mBAAmB,GAAGA,CAAA,KAAM;IAC9B7F,mBAAmB,CAACN,cAAc,CAAC;IACnCQ,YAAY,CAACyF,OAAO,CAACnQ,mBAAmB,EAAE4K,IAAI,CAACwF,SAAS,CAAClG,cAAc,CAAC,CAAC;EAC7E,CAAC;EAED7N,SAAS,CAAC,MAAM;IACZqO,YAAY,CAACyF,OAAO,CAACnQ,mBAAmB,EAAE4K,IAAI,CAACwF,SAAS,CAAC7F,gBAAgB,CAAC,CAAC;EAC/E,CAAC,EAAE,CAACA,gBAAgB,CAAC,CAAC;EAEtB,oBACI1K,OAAA,CAAChD,SAAS;IAACyT,QAAQ,EAAC,IAAI;IAACxM,EAAE,EAAE;MAAEyM,EAAE,EAAE;IAAE,CAAE;IAAAtM,QAAA,gBAEnCpE,OAAA,CAACnD,GAAG;MAACoH,EAAE,EAAE;QACLC,SAAS,EAAE,QAAQ;QACnBc,EAAE,EAAE,CAAC;QACLlE,UAAU,EAAEJ,KAAK,IAAIA,KAAK,CAACK,OAAO,CAACC,IAAI,KAAK,MAAM,GAC5C,mDAAmD,GACnD,mDAAmD;QACzDL,YAAY,EAAE,MAAM;QACpBwD,CAAC,EAAE;MACP,CAAE;MAAAC,QAAA,eACEpE,OAAA,CAACqB,cAAc;QACXsD,OAAO,EAAC,WAAW;QACnBD,OAAO,EAAEmJ,UAAW;QACpB1G,SAAS,EAAEmC,QAAQ,gBAAGtJ,OAAA,CAAChB,mBAAmB;UAAAsF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,gBAAGzE,OAAA,CAACjB,qBAAqB;UAAAuF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAE;QAC1EhC,QAAQ,EAAEkG,OAAQ;QAAAvE,QAAA,EAEjBuE,OAAO,GAAG,eAAe,GAAIW,QAAQ,GAAG,qBAAqB,GAAG;MAAmB;QAAAhF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChB,CAAC,eAGNzE,OAAA,CAAChC,QAAQ;MAAC2S,EAAE,EAAErH,QAAS;MAAAlF,QAAA,eACnBpE,OAAA,CAACS,UAAU;QAACwD,EAAE,EAAE;UAAEe,EAAE,EAAE;QAAE,CAAE;QAAAZ,QAAA,eACtBpE,OAAA;UAAM4Q,QAAQ,EAAEpE,YAAa;UAAApI,QAAA,eACzBpE,OAAA,CAAC/B,IAAI;YAACmJ,SAAS;YAACvG,OAAO,EAAE,CAAE;YAAAuD,QAAA,gBACvBpE,OAAA,CAAC/B,IAAI;cAACoJ,IAAI;cAACC,EAAE,EAAE,EAAG;cAAAlD,QAAA,eACdpE,OAAA,CAAC/C,SAAS;gBACNwK,SAAS;gBACT8D,IAAI,EAAC,YAAY;gBACjBtE,KAAK,EAAC,aAAa;gBACnBJ,KAAK,EAAE2C,QAAQ,CAACE,UAAW;gBAC3BhC,QAAQ,EAAE4D,iBAAkB;gBAC5Bd,QAAQ;gBACR7F,OAAO,EAAC,QAAQ;gBAChBkM,UAAU,EAAE;kBACR5M,EAAE,EAAE;oBACAtD,YAAY,EAAE,MAAM;oBACpBe,eAAe,EAAE;kBACrB;gBACJ;cAAE;gBAAA4C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACPzE,OAAA,CAAC/B,IAAI;cAACoJ,IAAI;cAACC,EAAE,EAAE,EAAG;cAAAlD,QAAA,eACdpE,OAAA,CAAC/C,SAAS;gBACNwK,SAAS;gBACT8D,IAAI,EAAC,mBAAmB;gBACxBtE,KAAK,EAAC,oBAAoB;gBAC1BJ,KAAK,EAAE2C,QAAQ,CAACG,iBAAkB;gBAClCjC,QAAQ,EAAE4D,iBAAkB;gBAC5Bd,QAAQ;gBACRsG,SAAS;gBACTC,IAAI,EAAE,CAAE;gBACRpM,OAAO,EAAC,QAAQ;gBAChBkM,UAAU,EAAE;kBACR5M,EAAE,EAAE;oBACAtD,YAAY,EAAE,MAAM;oBACpBe,eAAe,EAAE;kBACrB;gBACJ;cAAE;gBAAA4C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACPzE,OAAA,CAAC/B,IAAI;cAACoJ,IAAI;cAACC,EAAE,EAAE,EAAG;cAAAlD,QAAA,eACdpE,OAAA,CAAC/C,SAAS;gBACNwK,SAAS;gBACT8D,IAAI,EAAC,kBAAkB;gBACvBtE,KAAK,EAAC,8BAA8B;gBACpCJ,KAAK,EAAE2C,QAAQ,CAACI,gBAAiB;gBACjClC,QAAQ,EAAE4D,iBAAkB;gBAC5BwF,SAAS;gBACTC,IAAI,EAAE,CAAE;gBACRpM,OAAO,EAAC,QAAQ;gBAChBkM,UAAU,EAAE;kBACR5M,EAAE,EAAE;oBACAtD,YAAY,EAAE,MAAM;oBACpBe,eAAe,EAAE;kBACrB;gBACJ;cAAE;gBAAA4C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACPzE,OAAA,CAAC/B,IAAI;cAACoJ,IAAI;cAACC,EAAE,EAAE,EAAG;cAAAlD,QAAA,eACdpE,OAAA,CAACqB,cAAc;gBACX6L,IAAI,EAAC,QAAQ;gBACbvI,OAAO,EAAC,WAAW;gBACnBuC,IAAI,EAAC,OAAO;gBACZzE,QAAQ,EAAEkG,OAAQ;gBAClBlB,SAAS;gBAAArD,QAAA,GAERuE,OAAO,gBACJ3I,OAAA,CAACjD,gBAAgB;kBAACmK,IAAI,EAAE,EAAG;kBAACjD,EAAE,EAAE;oBAAE+M,EAAE,EAAE;kBAAE;gBAAE;kBAAA1M,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,gBAE7CzE,OAAA,CAACb,UAAU;kBAAC8E,EAAE,EAAE;oBAAE+M,EAAE,EAAE;kBAAE;gBAAE;kBAAA1M,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAC/B,EAAC,wBAEN;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAgB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACf,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC,EAEVrB,KAAK,iBACFpD,OAAA,CAAC+D,YAAY;MAACX,KAAK,EAAEA,KAAK,CAACmJ,OAAQ;MAACvI,OAAO,EAAEA,CAAA,KAAM;QAC/C+E,QAAQ,CAAC,IAAI,CAAC;QACdD,UAAU,CAAC,IAAI,CAAC;QAChBF,UAAU,CAAC,IAAI,CAAC;MACpB;IAAE;MAAAtE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CACP,EAEAoE,OAAO,iBACJ7I,OAAA,CAACS,UAAU;MAAA2D,QAAA,gBACPpE,OAAA,CAACnD,GAAG;QAACoH,EAAE,EAAE;UAAEjB,OAAO,EAAE,MAAM;UAAEmC,cAAc,EAAE,eAAe;UAAEH,EAAE,EAAE;QAAE,CAAE;QAAAZ,QAAA,gBACjEpE,OAAA,CAACnD,GAAG;UAACoH,EAAE,EAAE;YAAEjB,OAAO,EAAE,MAAM;YAAEgE,GAAG,EAAE;UAAE,CAAE;UAAA5C,QAAA,gBACjCpE,OAAA,CAAC/C,SAAS;YACNwK,SAAS;YACTP,IAAI,EAAC,OAAO;YACZ+J,WAAW,EAAC,mBAAmB;YAC/BpK,KAAK,EAAER,UAAW;YAClBqB,QAAQ,EAAGC,CAAC,IAAKkC,aAAa,CAAClC,CAAC,CAACC,MAAM,CAACf,KAAK,CAAE;YAC/CgK,UAAU,EAAE;cACRK,cAAc,eACVlR,OAAA,CAACjC,cAAc;gBAACoT,QAAQ,EAAC,OAAO;gBAAA/M,QAAA,eAC5BpE,OAAA,CAACb,UAAU;kBAAAmF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF,CACnB;cACDR,EAAE,EAAE;gBACAtD,YAAY,EAAE,MAAM;gBACpBe,eAAe,EAAE;cACrB;YACJ;UAAE;YAAA4C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eACFzE,OAAA,CAACqB,cAAc;YACXsD,OAAO,EAAC,UAAU;YAClBD,OAAO,EAAEA,CAAA,KAAMqF,cAAc,CAAC,CAACD,WAAW,CAAE;YAC5C3C,SAAS,eAAEnH,OAAA,CAACd,cAAc;cAAAoF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAE;YAAAL,QAAA,EACjC;UAED;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAgB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC,eACNzE,OAAA,CAAClD,MAAM;UACHqK,SAAS,eAAEnH,OAAA,CAACZ,YAAY;YAAAkF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAE;UAC5BC,OAAO,EAAEA,CAAA,KAAM0F,mBAAmB,CAAC,IAAI,CAAE;UAAAhG,QAAA,EAC5C;QAED;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,eAGNzE,OAAA,CAAChC,QAAQ;QAAC2S,EAAE,EAAE7G,WAAY;QAAA1F,QAAA,eACtBpE,OAAA,CAACgG,SAAS;UACNC,OAAO,EAAEA,OAAQ;UACjBC,UAAU,EAAEA,UAAW;UACvBC,gBAAgB,EAAEA;QAAiB;UAAA7B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC,eAGfzE,OAAA,CAAC1C,cAAc;QAAA8G,QAAA,eACXpE,OAAA,CAAC7C,KAAK;UAAAiH,QAAA,gBACFpE,OAAA,CAACzC,SAAS;YAAA6G,QAAA,eACNpE,OAAA,CAACxC,QAAQ;cAAA4G,QAAA,EACJsG,gBAAgB,CACZ9D,MAAM,CAACwK,GAAG,IAAIA,GAAG,CAAC7G,OAAO,CAAC,CAC1BzC,GAAG,CAACsJ,GAAG,iBACJpR,OAAA,CAACyB,eAAe;gBAAA2C,QAAA,EACXgN,GAAG,CAACnK;cAAK,GADQmK,GAAG,CAAC9G,EAAE;gBAAAhG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAEX,CACpB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,eACZzE,OAAA,CAAC5C,SAAS;YAAAgH,QAAA,EACL+I,kBAAkB,CAAC,CAAC,CAChBkE,KAAK,CAACnI,IAAI,GAAGE,WAAW,EAAEF,IAAI,GAAGE,WAAW,GAAGA,WAAW,CAAC,CAC3DtB,GAAG,CAAE/C,MAAM,iBACR/E,OAAA,CAAC1D,KAAK,CAACgV,QAAQ;cAAAlN,QAAA,gBACXpE,OAAA,CAACkC,cAAc;gBAAAkC,QAAA,EACVsG,gBAAgB,CACZ9D,MAAM,CAACwK,GAAG,IAAIA,GAAG,CAAC7G,OAAO,CAAC,CAC1BzC,GAAG,CAACsJ,GAAG;kBAAA,IAAAG,gBAAA,EAAAC,iBAAA,EAAAC,sBAAA;kBAAA,oBACJzR,OAAA,CAACyB,eAAe;oBAAA2C,QAAA,GACXgN,GAAG,CAAC9G,EAAE,KAAK,cAAc,iBACtBtK,OAAA,CAACnD,GAAG;sBAACoH,EAAE,EAAE;wBAAEjB,OAAO,EAAE,MAAM;wBAAE0O,aAAa,EAAE;sBAAS,CAAE;sBAAAtN,QAAA,gBAClDpE,OAAA,CAACtC,IAAI;wBACDiS,IAAI,EAAE5K,MAAM,CAAC4M,OAAQ;wBACrB/J,MAAM,EAAC,QAAQ;wBACfgK,GAAG,EAAC,qBAAqB;wBACzB3N,EAAE,EAAE;0BACAtC,KAAK,EAAE,cAAc;0BACrBkQ,cAAc,EAAE,MAAM;0BACtBvQ,UAAU,EAAE,GAAG;0BACf,SAAS,EAAE;4BACPuQ,cAAc,EAAE;0BACpB;wBACJ,CAAE;wBAAAzN,QAAA,EAEDW,MAAM,CAACE;sBAAQ;wBAAAX,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACd,CAAC,eACPzE,OAAA,CAAC9C,UAAU;wBAACyH,OAAO,EAAC,OAAO;wBAAChD,KAAK,EAAC,gBAAgB;wBAAAyC,QAAA,GAAAmN,gBAAA,GAC7CxM,MAAM,CAACG,QAAQ,cAAAqM,gBAAA,uBAAfA,gBAAA,CAAiBxC,OAAO,CAAC,IAAI,EAAE,EAAE;sBAAC;wBAAAzK,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC3B,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACZ,CACR,EACA2M,GAAG,CAAC9G,EAAE,KAAK,cAAc,IAAIvF,MAAM,CAACkK,QAAQ,EAC5CmC,GAAG,CAAC9G,EAAE,KAAK,WAAW,IAAIvF,MAAM,CAAC4I,KAAK,EACtCyD,GAAG,CAAC9G,EAAE,KAAK,cAAc,MAAAkH,iBAAA,GAAIzM,MAAM,CAACG,QAAQ,cAAAsM,iBAAA,uBAAfA,iBAAA,CAAiBzC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,GAC/DqC,GAAG,CAAC9G,EAAE,KAAK,0BAA0B,IAAIvF,MAAM,CAAC+M,oBAAoB,EACpEV,GAAG,CAAC9G,EAAE,KAAK,eAAe,IAAIvF,MAAM,CAACmK,SAAS,EAC9CkC,GAAG,CAAC9G,EAAE,KAAK,aAAa,IAAIhF,aAAa,CAACP,MAAM,CAACK,OAAO,CAAC,EACzDgM,GAAG,CAAC9G,EAAE,KAAK,eAAe,IAAIvF,MAAM,CAACgN,mBAAmB,EACxDX,GAAG,CAAC9G,EAAE,KAAK,YAAY,IAAIvF,MAAM,CAACoK,gBAAgB,EAClDiC,GAAG,CAAC9G,EAAE,KAAK,WAAW,MAAAmH,sBAAA,GAAI1M,MAAM,CAAC0I,cAAc,cAAAgE,sBAAA,uBAArBA,sBAAA,CAAuB1C,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,GAClEqC,GAAG,CAAC9G,EAAE,KAAK,YAAY,IAAIvF,MAAM,CAACiN,MAAM,EACxCZ,GAAG,CAAC9G,EAAE,KAAK,gBAAgB,iBACxBtK,OAAA,CAAC8C,eAAe;sBAACC,UAAU,EAAEgC,MAAM,CAAChC,UAAW;sBAAAqB,QAAA,GAC1CW,MAAM,CAAChC,UAAU,EAAC,GACvB;oBAAA;sBAAAuB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAiB,CACpB,EACA2M,GAAG,CAAC9G,EAAE,KAAK,QAAQ,iBAChBtK,OAAA,CAAClD,MAAM;sBACHoK,IAAI,EAAC,OAAO;sBACZxC,OAAO,EAAEA,CAAA,KAAMoJ,iBAAiB,CAAC/I,MAAM,CAAE;sBACzCtC,QAAQ,EAAEuG,mBAAmB,CAACjE,MAAM,CAACE,QAAQ,CAAE;sBAC/CN,OAAO,EAAC,WAAW;sBAAAP,QAAA,EAElB4E,mBAAmB,CAACjE,MAAM,CAACE,QAAQ,CAAC,gBACjCjF,OAAA,CAACjD,gBAAgB;wBAACmK,IAAI,EAAE;sBAAG;wBAAA5C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE,CAAC,GAE9BM,MAAM,CAACmH,WAAW,GACblC,oBAAoB,CAACjF,MAAM,CAACE,QAAQ,CAAC,GAAG,OAAO,GAAG,KAAK,GACtD;oBACT;sBAAAX,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACG,CACX;kBAAA,GArDiB2M,GAAG,CAAC9G,EAAE;oBAAAhG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAsDX,CAAC;gBAAA,CACrB;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACM,CAAC,EAChBM,MAAM,CAACmH,WAAW,IAAIlC,oBAAoB,CAACjF,MAAM,CAACE,QAAQ,CAAC,iBACxDjF,OAAA,CAACxC,QAAQ;gBAAA4G,QAAA,eACLpE,OAAA,CAAC3C,SAAS;kBAAC4U,OAAO,EAAEvH,gBAAgB,CAAClK,MAAO;kBAACyD,EAAE,EAAE;oBAAEE,CAAC,EAAE;kBAAE,CAAE;kBAAAC,QAAA,eACtDpE,OAAA,CAAC0C,cAAc;oBACXwP,SAAS,EAAE,mBAAmBlI,oBAAoB,CAACjF,MAAM,CAACE,QAAQ,CAAC,GAAG,SAAS,GAAG,EAAE,EAAG;oBAAAb,QAAA,gBAEvFpE,OAAA,CAAC9C,UAAU;sBAACyH,OAAO,EAAC,WAAW;sBAACV,EAAE,EAAE;wBAAEe,EAAE,EAAE,CAAC;wBAAE1D,UAAU,EAAE,GAAG;wBAAE6C,CAAC,EAAE;sBAAE,CAAE;sBAAAC,QAAA,EAAC;oBAEtE;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAY,CAAC,eACbzE,OAAA,CAACnD,GAAG;sBAACoH,EAAE,EAAE;wBAAEkO,EAAE,EAAE,CAAC;wBAAEC,EAAE,EAAE;sBAAE,CAAE;sBAAAhO,QAAA,EACrBW,MAAM,CAACmH,WAAW,CAACmG,KAAK,CAAC,IAAI,CAAC,CAACvK,GAAG,CAAC,CAACwK,IAAI,EAAErC,KAAK,KAAK;wBACjD,IAAIqC,IAAI,CAACC,UAAU,CAAC,KAAK,CAAC,EAAE;0BACxB,oBACIvS,OAAA,CAAC9C,UAAU;4BAEPyH,OAAO,EAAC,WAAW;4BACnBV,EAAE,EAAE;8BACAW,EAAE,EAAE,CAAC;8BACLI,EAAE,EAAE,CAAC;8BACLrD,KAAK,EAAE,cAAc;8BACrBL,UAAU,EAAE;4BAChB,CAAE;4BAAA8C,QAAA,EAEDkO,IAAI,CAACvD,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAACxO,IAAI,CAAC;0BAAC,GAT1B0P,KAAK;4BAAA3L,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAUF,CAAC;wBAErB;wBACA,oBACIzE,OAAA,CAAC9C,UAAU;0BAEPyH,OAAO,EAAC,OAAO;0BACfV,EAAE,EAAE;4BACAe,EAAE,EAAE,CAAC;4BACLwN,EAAE,EAAEF,IAAI,CAACC,UAAU,CAAC,GAAG,CAAC,IAAID,IAAI,CAACC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGD,IAAI,CAACC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG;0BACtF,CAAE;0BAAAnO,QAAA,EAEDkO;wBAAI,GAPArC,KAAK;0BAAA3L,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAQF,CAAC;sBAErB,CAAC;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACD,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACM;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACV;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CACb;YAAA,GA1GgBM,MAAM,CAACE,QAAQ;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OA2GpB,CACnB;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC,eAEjBzE,OAAA,CAACnD,GAAG;QAACoH,EAAE,EAAE;UAAEjB,OAAO,EAAE,MAAM;UAAEmC,cAAc,EAAE,UAAU;UAAEP,EAAE,EAAE;QAAE,CAAE;QAAAR,QAAA,eAC5DpE,OAAA,CAACnC,eAAe;UACZ4U,SAAS,EAAC,KAAK;UACfC,KAAK,EAAEvF,kBAAkB,CAAC,CAAC,CAAC3M,MAAO;UACnC0I,IAAI,EAAEA,IAAK;UACXyJ,YAAY,EAAE1H,gBAAiB;UAC/B7B,WAAW,EAAEA,WAAY;UACzBwJ,mBAAmB,EAAExH,uBAAwB;UAC7CyH,kBAAkB,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE;QAAE;UAAAvO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACf,eAGDzE,OAAA,CAAC7B,MAAM;MACH2U,IAAI,EAAE3I,gBAAiB;MACvB4I,OAAO,EAAEA,CAAA,KAAM3I,mBAAmB,CAAC,KAAK,CAAE;MAC1CqG,QAAQ,EAAC,IAAI;MACbhJ,SAAS;MAAArD,QAAA,gBAETpE,OAAA,CAAC5B,WAAW;QAAAgG,QAAA,EAAC;MAEb;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAa,CAAC,eACdzE,OAAA,CAAC3B,aAAa;QAAA+F,QAAA,gBACVpE,OAAA,CAAC9C,UAAU;UAACyH,OAAO,EAAC,OAAO;UAAChD,KAAK,EAAC,eAAe;UAACsC,EAAE,EAAE;YAAEe,EAAE,EAAE;UAAE,CAAE;UAAAZ,QAAA,EAAC;QAEjE;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY,CAAC,eACbzE,OAAA,CAACnD,GAAG;UAACoH,EAAE,EAAE;YAAEjB,OAAO,EAAE,MAAM;YAAE0O,aAAa,EAAE,QAAQ;YAAE1K,GAAG,EAAE;UAAE,CAAE;UAAA5C,QAAA,EACzDsG,gBAAgB,CAAC5C,GAAG,CAAC,CAACkL,MAAM,EAAE/C,KAAK,kBAChCjQ,OAAA,CAACwF,cAAc;YAAApB,QAAA,eACXpE,OAAA,CAACnD,GAAG;cAACoH,EAAE,EAAE;gBAAEjB,OAAO,EAAE,MAAM;gBAAEC,UAAU,EAAE,QAAQ;gBAAE+D,GAAG,EAAE,CAAC;gBAAEiM,IAAI,EAAE;cAAE,CAAE;cAAA7O,QAAA,gBAChEpE,OAAA,CAACzB,MAAM;gBACH2U,OAAO,EAAEF,MAAM,CAACzI,OAAQ;gBACxB7C,QAAQ,EAAEA,CAAA,KAAM;kBACZ,IAAI,CAACsL,MAAM,CAACxI,QAAQ,EAAE;oBAClBG,mBAAmB,CAACwI,IAAI,IACpBA,IAAI,CAACrL,GAAG,CAACsJ,GAAG,IACRA,GAAG,CAAC9G,EAAE,KAAK0I,MAAM,CAAC1I,EAAE,GACd;sBAAE,GAAG8G,GAAG;sBAAE7G,OAAO,EAAE,CAAC6G,GAAG,CAAC7G;oBAAQ,CAAC,GACjC6G,GACV,CACJ,CAAC;kBACL;gBACJ,CAAE;gBACF3O,QAAQ,EAAEuQ,MAAM,CAACxI,QAAS;gBAC1B4I,UAAU,EAAE;kBACR,YAAY,EAAE,UAAUJ,MAAM,CAAC/L,KAAK;gBACxC;cAAE;gBAAA3C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,eACFzE,OAAA,CAAC9C,UAAU;gBAAC+V,IAAI,EAAE,CAAE;gBAAA7O,QAAA,GACf4O,MAAM,CAAC/L,KAAK,EACZ+L,MAAM,CAACxI,QAAQ,iBACZxK,OAAA,CAAC9C,UAAU;kBACPuV,SAAS,EAAC,MAAM;kBAChB9N,OAAO,EAAC,SAAS;kBACjBhD,KAAK,EAAC,gBAAgB;kBACtBsC,EAAE,EAAE;oBAAEoP,EAAE,EAAE;kBAAE,CAAE;kBAAAjP,QAAA,EACjB;gBAED;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CACf;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACO,CAAC,eACbzE,OAAA,CAACnD,GAAG;gBAACoH,EAAE,EAAE;kBAAEjB,OAAO,EAAE,MAAM;kBAAEgE,GAAG,EAAE;gBAAI,CAAE;gBAAA5C,QAAA,gBACnCpE,OAAA,CAACpC,UAAU;kBACPsJ,IAAI,EAAC,OAAO;kBACZxC,OAAO,EAAEA,CAAA,KAAMsL,UAAU,CAACC,KAAK,EAAE,IAAI,CAAE;kBACvCxN,QAAQ,EAAEwN,KAAK,KAAK,CAAE;kBAAA7L,QAAA,eAEtBpE,OAAA,CAACV,eAAe;oBAACuC,QAAQ,EAAC;kBAAO;oBAAAyC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5B,CAAC,eACbzE,OAAA,CAACpC,UAAU;kBACPsJ,IAAI,EAAC,OAAO;kBACZxC,OAAO,EAAEA,CAAA,KAAMsL,UAAU,CAACC,KAAK,EAAE,MAAM,CAAE;kBACzCxN,QAAQ,EAAEwN,KAAK,KAAKvF,gBAAgB,CAAClK,MAAM,GAAG,CAAE;kBAAA4D,QAAA,eAEhDpE,OAAA,CAACT,iBAAiB;oBAACsC,QAAQ,EAAC;kBAAO;oBAAAyC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC9B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACZ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL;UAAC,GAjDWuO,MAAM,CAAC1I,EAAE;YAAAhG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAkDd,CACnB;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACK,CAAC,eAChBzE,OAAA,CAAC1B,aAAa;QAAA8F,QAAA,gBACVpE,OAAA,CAAClD,MAAM;UACH4H,OAAO,EAAE8L,mBAAoB;UAC7B7O,KAAK,EAAC,WAAW;UAAAyC,QAAA,EACpB;QAED;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTzE,OAAA,CAAClD,MAAM;UAAC4H,OAAO,EAAEA,CAAA,KAAM0F,mBAAmB,CAAC,KAAK,CAAE;UAAAhG,QAAA,EAAC;QAEnD;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEpB,CAAC;AAACiE,EAAA,CApsBID,gBAAgB;AAAA6K,IAAA,GAAhB7K,gBAAgB;AAssBtB,eAAeA,gBAAgB;AAAC,IAAArH,EAAA,EAAAI,GAAA,EAAAS,GAAA,EAAAI,GAAA,EAAAQ,GAAA,EAAAU,GAAA,EAAAsB,GAAA,EAAAQ,GAAA,EAAAQ,GAAA,EAAAE,IAAA,EAAAyC,IAAA,EAAA8K,IAAA;AAAAC,YAAA,CAAAnS,EAAA;AAAAmS,YAAA,CAAA/R,GAAA;AAAA+R,YAAA,CAAAtR,GAAA;AAAAsR,YAAA,CAAAlR,GAAA;AAAAkR,YAAA,CAAA1Q,GAAA;AAAA0Q,YAAA,CAAAhQ,GAAA;AAAAgQ,YAAA,CAAA1O,GAAA;AAAA0O,YAAA,CAAAlO,GAAA;AAAAkO,YAAA,CAAA1N,GAAA;AAAA0N,YAAA,CAAAxN,IAAA;AAAAwN,YAAA,CAAA/K,IAAA;AAAA+K,YAAA,CAAAD,IAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}